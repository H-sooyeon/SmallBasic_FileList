path="D:\Leigh Dunn\Summative\"
item1=0
item2=0
item3=0
item4=0
item5=0
item6=0
item7=0
battle1=0
battle2=0
battle3=0
battle4=0
battle5=0
battle6=0
battle7=0
haveEgg=0

'call up non-interactive images
egg=ImageList.LoadImage(path+"egg.png")
bookshelf=ImageList.LoadImage(path+"bookshelves.png")
pokeballmachine=ImageList.LoadImage(path+"pokeballm.gif")
tree=ImageList.LoadImage(path+"tree.gif")
grass=ImageList.LoadImage(path+"grassSquare.gif")
water=ImageList.LoadImage(path+"waterblock.png")
labbuilding=ImageList.LoadImage(path+"lab.gif")
housebuilding=Imagelist.LoadImage(path+"house.gif")
pokecenterbuilding=ImageList.LoadImage(path+"pokecenter.gif")
sign=ImageList.LoadImage(path+"sign.gif")
ridge=ImageList.LoadImage(path+"boulder.gif")
stairs=ImageList.LoadImage(path+"stairs.gif")
table=ImageList.LoadImage(path+"table.gif")
kitchen=ImageList.LoadImage(path+"kitchen.gif")
cave=ImageList.LoadImage(path+"cave.gif")
'call up interactive images
itemsprite=ImageLIst.LoadImage(path+"pokeball.gif")
starsprite=ImageList.LoadImage(path+"star.gif")
'call up characters
playersprite=ImageList.LoadImage(path+"player.gif")
professorsprite=ImageList.LoadImage(path+"professor_juniper.gif")
aidsprite=ImageList.LoadImage(path+"aid.gif")
girlsprite=ImageList.LoadImage(path+"girl.gif")
lady1sprite=ImageLIst.LoadImage(path+"lady1.gif")
lady2sprite=ImageList.LoadImage(path+"lady2.gif")
mothersprite=ImageList.LoadImage(path+"mother.gif")
boyspriteb=ImageLIst.LoadImage(path+"boy-back.gif")
boysprites=ImageList.LoadImage(path+"boy-side.gif")
boysprites2=ImageList.LoadImage(path+"boyspriteside2.gif")
guysprite=ImageList.LoadImage(path+"guy.gif")
teamrocket=ImageList.LoadImage(path+"teamrockets.gif")
nursesprite=ImageList.LoadImage(path+"nursejoy.gif")
'call up pokemon
ponytasprite=ImageList.LoadImage(path+"ponytasprite.gif")
pidgeyf=ImageList.LoadImage(path+"Pidgey - Front View.gif")
pidgeyb=ImageList.LoadImage(path+"Pidgey - Back View.gif")
rattataf=ImageList.LoadImage(path+"Rattata - Front View.gif")
rattatab=ImageList.LoadImage(path+"Rattata - Back View.gif")
caterpief=ImageList.LoadImage(path+"Caterpie - Front View.gif")
caterpieb=ImageList.LoadImage(path+"Caterpie - Back View.gif")
rarepokemon=ImageList.LoadImage(path+"rarepokemon.gif")
ponytaf=ImageList.LoadImage(path+"ponyta-front.gif")

'obvious...
GraphicsWindow.Width=500
GraphicsWindow.Height=500

'display the instruction and check if the images are working
GraphicsWindow.DrawImage(egg,0,0)
GraphicsWindow.DrawText(250,20,"Controls:")
GraphicsWindow.DrawText(250,40,"WASD;  Move")
GraphicsWindow.DrawText(250,60,"Enter: Select/Continue/Examine/Talk")
GraphicsWindow.DrawText(250,80,"Space: Open menu")
GraphicsWindow.DrawText(250,100,"U: Teleport to home")
GraphicsWindow.DrawBoundText(250,160,240,"When in normal conversation, any movement button will exit it. To talk to someone, you must be standing on the space in front of them and press Enter.")
GraphicsWindow.DrawBoundText(250,240,240,"You only get one pokemon in this game. You choose out of the three starer ones. Note: Please do not hold down the move keys when in lone grass!!!")
GraphicsWindow.DrawBoundText(10,360,480,"Please check for an image above. If there is no image, please go check line one of the coding and change the filepath to be the same as the path on top of the coding.")
GraphicsWindow.DrawBoundText(10,420,480,"If the image is present, please wait for the game to start.")
GraphicsWindow.DrawBoundText(10,460,480,"Please note: I did not make any of these images apart from the bookshelves, caterpie, pidgey, and rattata. I did not make any of these pokemon.")
'Delay the program so the user can read the instructions
'Program.Delay(20000)
GraphicsWindow.Clear()

'The first scene is in the lab. Pull the lab screen up.
lab()
'put the player in the scene and move to the mat
player=Shapes.AddImage(playersprite)
x=120
y=480
Shapes.Move(player,x,y)
'move up 6 spaces
For i=1 to 6
  y=y-20
  Shapes.Move(player,x,y)
  Program.Delay(250)
EndFor
'move right 3 spaces
For i=1 to 3
  x=x+20
  Shapes.Move(player,x,y)
  Program.Delay(250)
EndFor
'move up 11 spaces
For i=1 to 11
  y=y-20
  Shapes.Move(player,x,y)
  Program.Delay(250)
EndFor
'this sets the dialogue point
dialogue="go"
pause=0
txt=1
'while you're talking to her...
While dialogue="go"
  'checks the txt level and if you've advanced it
  If txt=1 And pause=0 Then
    GraphicsWindow.BrushColor="yellow"
    box=Shapes.AddRectangle(500,80)
    GraphicsWindow.BrushColor="blue"
    writetxt=Shapes.AddText("I don't think you know why I called you here.")
    Shapes.Move(writetxt,10,10)
    'pauses the dialogue
    pause=1
 ElseIf txt=2 and pause=0 then
   Shapes.Remove(writetxt)
    writetxt=Shapes.AddText("I have just received reports that all the legendary and rare pokemon have") 
    writetxt2=Shapes.AddText("disappeared and the lesser rare pokemon are starting to disappear too.")
    Shapes.Move(writetxt,10,10)
    Shapes.Move(writetxt2,10,30)
    pause=1
  ElseIf txt=3 and pause=0 then
    Shapes.Remove(writetxt)
    Shapes.Remove(writetxt2)
    writetxt=Shapes.AddText("I need you to take one of these pokemon and try to find all the others.")
    writetxt2=Shapes.AddText("They're over there, in the case.")
    Shapes.Move(writetxt,10,10)
    Shapes.Move(writetxt2,10,30)
    pause=1
  ElseIf txt>=4 then
    Shapes.Remove(writetxt)
    Shapes.Remove(writetxt2)
    Shapes.Remove(box)
    dialogue="end"
  EndIf
  'check for the return key
  GraphicsWindow.Keydown=nextText
EndWhile
'moves over to the machine once the dialogue is finished
For i=1 to 10
  x=x+20
  Shapes.Move(player,x,y)
  Program.Delay(250)
EndFor
'makes the menu box appear behind
box=Shapes.AddRectangle(400,400)
Shapes.Move(box,50,50)
'Initializes the variables for choosing
poke=1
pause=0
choose=1
'while you're still choosing
While choose=1
  If poke=1 And pause=0 Then
    'remove the previous pictures
    Shapes.Remove(pokesprite)
    Shapes.Remove(talk)
    pokemon="Pidgey"
    'add the new pictures
    pokesprite=Shapes.AddImage(pidgeyf)
    GraphicsWindow.BrushColor="Green"
    talk=Shapes.AddText("Pidgey - Flying/Normal Type")
    Shapes.Move(talk,160,400)
    'pause the selection
    pause=1
  ElseIf poke=2 and pause=0 then
    Shapes.Remove(pokesprite)
    Shapes.Remove(talk)
    pokemon="Rattata"
    pokesprite=Shapes.AddImage(rattataf)
    GraphicsWindow.BrushColor="Green"
    talk=Shapes.AddText("Rattata - Normal Type")
    Shapes.Move(talk,180,400)
    pause=1
  ElseIf poke=3 and pause=0 then
    Shapes.Remove(pokesprite)
    Shapes.Remove(talk)
    pokemon="Caterpie"
    pokesprite=Shapes.AddImage(caterpief)
    GraphicsWindow.BrushColor="Green"
    talk=Shapes.AddText("Caterpie - Bug Type")
    Shapes.Move(talk,180,400)
    pause=1
  EndIf
  Shapes.Move(pokesprite,150,125)
  'check for key presses
  GraphicsWindow.KeyDown=switch
EndWhile
Shapes.Remove(pokesprite)
Shapes.Remove(talk)
Shapes.Remove(box)
For i=1 to 10
  x=x-20
  Shapes.Move(player,x,y)
  Program.Delay(250)
EndFor
'dialogue again. Just as before
dialogue="go"
pause=0
txt=1
While dialogue="go"
  If txt=1 And pause=0 Then
    GraphicsWindow.BrushColor="yellow"
    box=Shapes.AddRectangle(500,80)
    GraphicsWindow.BrushColor="blue"
    writetxt=Shapes.AddText("Hmmm... "+pokemon[1]+"... That's a good choice. From what we have now at least...")
    Shapes.Move(writetxt,10,10)
    pause=1
  ElseIf txt=2 and pause=0 then
    Shapes.Remove(writetxt)
    writetxt=Shapes.AddText("Anyway... Here's 5 potions to heal it.")
    Shapes.Move(writetxt,10,10)
    potion=potion+5
    pause=1
  ElseIf txt>=3 then
    Shapes.Remove(writetxt)
    Shapes.Remove(box)
    dialogue="end"
  EndIf
  GraphicsWindow.KeyDown=nextText
EndWhile
'this is what the scene will show
place="lab"
'your starting position depends on where you came in from
lastplace="nothing"
'just for the while loop
movement="go"
'this is where you can move around
moveScenes()
haveEgg=1
GraphicsWindow.Clear()
village2()
guy=Shapes.AddImage(guysprite)
guyx=320
Shapes.Move(guy,guyx,0)
x=400
y=100
player=Shapes.AddImage(playersprite)
Shapes.Move(player,x,y)
dialogue="go"
pause=0
txt=1
While dialogue="go"
  If txt=1 And pause=0 Then
    GraphicsWindow.BrushColor="yellow"
    box=Shapes.AddRectangle(500,80)
    GraphicsWindow.BrushColor="blue"
    writetxt=Shapes.AddText("Psst... Over here! I have something for you.")
    Shapes.Move(writetxt,10,10)
    pause=1
  ElseIf txt>=2 then
    Shapes.Remove(writetxt)
    Shapes.Remove(box)
    dialogue="end"
  EndIf
  GraphicsWindow.KeyDown=nextText
EndWhile
Program.Delay(250)
For i=1 to 4
  x=x-20
  Shapes.Move(player,x,y)
  Program.Delay(250)
EndFor
For i=1 to 4
  y=y-20
  Shapes.Move(player,x,y)
  Program.Delay(250)
EndFor
dialogue="go"
pause=0
txt=1
While dialogue="go"
  If txt=1 And pause=0 Then
    GraphicsWindow.BrushColor="yellow"
    box=Shapes.AddRectangle(500,80)
    GraphicsWindow.BrushColor="blue"
    writetxt=Shapes.AddText("You're trying to save the pokemon right?")
    Shapes.Move(writetxt,10,10)
    pause=1
  ElseIf txt=2 and pause=0 then
    Shapes.Remove(writetxt)
    writetxt=Shapes.AddText("I have a rare pokemon here. A bulbasaur.")
    Shapes.Move(writetxt,10,10)
    pause=1
  ElseIf txt=3 and pause=0 then
    Shapes.Remove(writetxt)
    writetxt=Shapes.AddText("Will you look after it?")
    Shapes.Move(writetxt,10,10)
    pause=1
  ElseIf txt>=4 then
    Shapes.Remove(writetxt)
    Shapes.Remove(box)
    dialogue="end"
  EndIf
  GraphicsWindow.KeyDown=nextText
EndWhile
GraphicsWindow.FontSize=20
box=Shapes.AddRectangle(200,100)
Shapes.Move(box,150,200)
GraphicsWindow.BrushColor="yellow"
button1=Shapes.AddRectangle(80,40)
Shapes.Move(button1,160,230)
button2=Shapes.AddRectangle(80,40)
Shapes.Move(button2,260,230)
instruction=Shapes.AddText("Use the mouse")
Shapes.Move(instruction,160,200)
GraphicsWindow.BrushColor="blue"
choice1=Shapes.Addtext("Yes")
Shapes.Move(choice1,170,240)
choice2=Shapes.AddText("No")
Shapes.Move(choice2,270,240)
choose=0
While choose=0
  GraphicsWindow.MouseDown=chooseYesNo
EndWhile
Shapes.Remove(box)
Shapes.Remove(button1)
Shapes.Remove(button2)
Shapes.Remove(instruction)
Shapes.Remove(choice1)
Shapes.Remove(choice2)
GraphicsWindow.FontSize=12
If answer="yes" then
  dialogue="go"
  pause=0
  txt=1
  While dialogue="go"
    If txt=1 And pause=0 Then
      GraphicsWindow.BrushColor="yellow"
      box=Shapes.AddRectangle(500,80)
      GraphicsWindow.BrushColor="blue"
      writetxt=Shapes.AddText("Great! Fork over the cash!")
      Shapes.Move(writetxt,10,10)
      pause=1
    ElseIf txt=2 and pause=0 then
      Shapes.Remove(writetxt)
      writetxt=Shapes.AddText("What?! You don't have any? What a waste of my time.")
      Shapes.Move(writetxt,10,10)
      pause=1
    ElseIf txt>=3 then
      Shapes.Remove(writetxt)
      Shapes.Remove(box)
      dialogue="end"
    EndIf
    GraphicsWindow.KeyDown=nextText
  EndWhile
ElseIf answer="no" then
  dialogue="go"
  pause=0
  txt=1
  While dialogue="go"
    If txt=1 And pause=0 Then
      GraphicsWindow.BrushColor="yellow"
      box=Shapes.AddRectangle(500,80)
      GraphicsWindow.BrushColor="blue"
      writetxt=Shapes.AddText("No!? You're condemning this poor pokemon!")
      Shapes.Move(writetxt,10,10)
      pause=1
    ElseIf txt=2 and pause=0 then
      Shapes.Remove(writetxt)
      writetxt=Shapes.AddText("...I have to go find someone else then...")
      Shapes.Move(writetxt,10,10)
      pause=1
    ElseIf txt>=3 then
      Shapes.Remove(writetxt)
      Shapes.Remove(box)
      dialogue="end"
    EndIf
    GraphicsWindow.KeyDown=nextText
  EndWhile
EndIf
For i=1 to 6
  guyx=guyx-20
  Shapes.Move(guy,guyx,0)
  Program.Delay(100)
EndFor
Shapes.Remove(guy)
Program.Delay(500)
aid=Shapes.AddImage(aidsprite)
aidx=480
aidy=360
Shapes.Move(aid,aidx,aidy)
For i=1 to 4
  aidx=aidx-20
  Shapes.Move(aid,aidx,aidy)
  Program.Delay(100)
EndFor
For i=1 to 6
  aidy=aidy-20
  Shapes.Move(aid,aidx,aidy)
  Program.Delay(100)
EndFor
For i=1 to 4
  y=y+20
  Shapes.Move(player,x,y)
  aidy=aidy-20
  Shapes.Move(aid,aidx,aidy)
  Program.Delay(100)
EndFor
For i=1 to 2
  x=x+20
  Shapes.Move(player,x,y)
  aidy=aidy-20
  Shapes.Move(aid,aidx,aidy)
  Program.Delay(100)
EndFor
For i=1 to 2
  aidx=aidx-20
  Shapes.Move(aid,aidx,aidy)
  Program.Delay(100)
EndFor
dialogue="go"
pause=0
txt=1
While dialogue="go"
  If txt=1 And pause=0 Then
    GraphicsWindow.BrushColor="yellow"
    box=Shapes.AddRectangle(500,80)
    GraphicsWindow.BrushColor="blue"
    writetxt=Shapes.AddText("There you are! There's been a new developement.")
    Shapes.Move(writetxt,10,10)
    pause=1
  ElseIf txt=2 and pause=0 then
    Shapes.Remove(writetxt)
    writetxt=Shapes.AddText("Professor Willow wants you back at the lab.")
    Shapes.Move(writetxt,10,10)
    pause=1
  ElseIf txt>=3 then
    Shapes.Remove(writetxt)
    Shapes.Remove(box)
    dialogue="end"
  EndIf
  GraphicsWindow.KeyDown=nextText
EndWhile
For i=1 to 2
  aidx=aidx+20
  Shapes.Move(aid,aidx,aidy)
  Program.Delay(100)
EndFor
For i=1 to 12
  aidy=aidy+20
  Shapes.Move(aid,aidx,aidy)
  Program.Delay(100)
EndFor
For i=1 to 4
  aidx=aidx+20
  Shapes.Move(aid,aidx,aidy)
  Program.Delay(100)
EndFor
Shapes.Remove(aid)
place="village2"
lastplace="nothing"
movement="go"
moveScenes()
haveEgg=2
GraphicsWindow.Clear()
GraphicsWindow.KeyDown=nextText
lab()
x=120
y=480
player=Shapes.AddImage(playersprite)
Shapes.Move(player,x,y)
For i=1 to 6
  y=y-20
  Shapes.Move(player,x,y)
  Program.Delay(250)
EndFor
'move right 3 spaces
For i=1 to 3
  x=x+20
  Shapes.Move(player,x,y)
  Program.Delay(250)
EndFor
'move up 11 spaces
For i=1 to 11
  y=y-20
  Shapes.Move(player,x,y)
  Program.Delay(250)
EndFor
dialogue="go"
pause=0
txt=1
While dialogue="go"
  If txt=1 And pause=0 Then
    GraphicsWindow.BrushColor="yellow"
    box=Shapes.AddRectangle(500,80)
    GraphicsWindow.BrushColor="blue"
    writetxt=Shapes.AddText("Finally! I have just gotten word of a sighting of some pokemon out by Hanisc town.")
    Shapes.Move(writetxt,10,10)
    pause=1
  ElseIf txt=2 and pause=0 then
    Shapes.Remove(writetxt)
    writetxt=Shapes.AddText("I want you to go investigate. The road should be clear.")
    Shapes.Move(writetxt,10,10)
    pause=1
  ElseIf txt=3 and pause=0 then
    Shapes.Remove(writetxt)
    writetxt=Shapes.AddText("It's off to the right just in case you don't know.")
    Shapes.Move(writetxt,10,10)
    pause=1
  ElseIf txt>=4 then
    Shapes.Remove(writetxt)
    Shapes.Remove(box)
    dialogue="end"
  EndIf
  GraphicsWindow.KeyDown=nextText
EndWhile
place="lab"
lastplace="nothing"
movement="go"
revive:
moveScenes()
GraphicsWindow.Clear()
GraphicsWindow.Width=500
GraphicsWindow.KeyDown=nextText
village3()
player=Shapes.AddImage(playersprite)
x=0
Shapes.Move(player,x,y)
Shapes.Move(ponyta,80,80)
Program.Delay(100)
Shapes.Move(ponyta,60,80)
Program.Delay(100)
Shapes.Move(ponyta,60,60)
Program.Delay(100)
Shapes.Move(ponyta,60,40)
Program.Delay(100)
Shapes.Move(ponyta,60,20)
Program.Delay(100)
Shapes.Move(ponyta,40,20)
Program.Delay(100)
Shapes.Move(ponyta,20,20)
Program.Delay(100)
Shapes.Move(ponyta,20,0)
Program.Delay(100)
For i=1 to 2
  x=x+20
  Shapes.Move(player,x,y)
  Program.Delay(100)
EndFor
For i=1 to 2
  y=y-20
  Shapes.Move(player,x,y)
  Program.Delay(100)
EndFor
x=120
y=40
y=y-20
Shapes.Move(person1,x,y)
Program.Delay(100)
For i=1 to 3
  x=x-20
  Shapes.Move(person1,x,y)
  Program.Delay(100)
EndFor
enemy="gastly"
eattack=15
edefence=15
ehealth=15
battle()
Shapes.Remove(person1)
x=240
y=160
For i=1 to 7
  y=y-20
  Shapes.Move(person2,x,y)
  Program.Delay(100)
EndFor
For i=1 to 9
  x=x-20
  Shapes.Move(person2,x,y)
  Program.Delay(100)
EndFor
enemy="sneasel"
ehealth=27
eattack=20
edefence=20
battle()
Shapes.Remove(person2)
x=80
y=180
For i=1 to 8
  y=y-20
  Shapes.Move(person3,x,y)
  Program.Delay(100)
EndFor
x=x-20
Shapes.Move(person3,x,y)
Program.Delay(100)
enemy="houndour"
ehealth=23
eattack=25
edefence=25
battle()
Shapes.Remove(person3)
Shapes.Move(ponyta,40,20)
Program.Delay(100)
Shapes.Move(ponyta,60,20)
Program.Delay(100)
Shapes.Move(ponyta,60,40)
Program.Delay(250)
x=60
y=40
Shapes.Move(player,x,y)
y=y+20
Shapes.Move(ponyta,x,y)
Program.Delay(100)
For i=1 to 3
  Shapes.Move(ponyta,x,y)
  x=x-20
  Shapes.Move(ponyta,x,y)
  Program.Delay(100)
EndFor
GraphicsWindow.Clear()
route2()
x=980
y=60
ponyta=Shapes.AddImage(ponytasprite)
Shapes.Move(ponyta,x,y)
player=Shapes.AddImage(playersprite)
Shapes.Move(player,1000,60)
For i=1 to 3
  Shapes.Move(player,x,y)
  y=y+20
  Shapes.Move(ponyta,x,y)
  Program.Delay(100)
EndFor
For i=1 to 6
  Shapes.Move(player,x,y)
  x=x-20
  Shapes.Move(ponyta,x,y)
  Program.Delay(100)
EndFor
For i=1 to 6
  Shapes.Move(player,x,y)
  y=y-20
  Shapes.Move(ponyta,x,y)
  Program.Delay(100)
EndFor
For i=1 to 21
  Shapes.Move(player,x,y)
  x=x-20
  Shapes.Move(ponyta,x,y)
  Program.Delay(100)
EndFor
For i=1 to 13
  Shapes.Move(player,x,y)
  y=y+20
  Shapes.Move(ponyta,x,y)
  Program.Delay(100)
EndFor
For i=1 to 17
  Shapes.Move(player,x,y)
  x=x-20
  Shapes.Move(ponyta,x,y)
  Program.Delay(100)
EndFor
For i=1 To 4
  Shapes.Move(player,x,y)
  y=y+20
  Shapes.Move(ponyta,x,y)
  Program.Delay(100)
EndFor
For i=1 to 7
  Shapes.Move(player,x,y)
  x=x+20
  Shapes.Move(ponyta,x,y)
  Program.Delay(100)
EndFor
For i=1 to 3
  Shapes.Move(player,x,y)
  y=y+20
  Shapes.Move(ponyta,x,y)
  Program.Delay(100)
EndFor
For i=1 to 12
  Shapes.Move(player,x,y)
  x=x-20
  Shapes.Move(ponyta,x,y)
  Program.Delay(100)
EndFor
GraphicsWindow.Clear()
GraphicsWindow.Width=500
village1()
x=480
ponyta=Shapes.AddImage(ponytasprite)
Shapes.Move(ponyta,x,y)
player=Shapes.AddImage(playersprite)
Shapes.Move(player,500,y)
For i=1 to 8
  Shapes.Move(player,x,y)
  x=x-20
  Shapes.Move(ponyta,x,y)
  Program.Delay(100)
EndFor
For i=1 to 4
  Shapes.Move(player,x,y)
  y=y-20
  Shapes.Move(ponyta,x,y)
  Program.Delay(100)
EndFor
For i=1 to 5
  Shapes.Move(player,x,y)
  x=x-20
  Shapes.Move(ponyta,x,y)
  Program.Delay(100)
EndFor
For i=1 to 5
  Shapes.Move(player,x,y)
  y=y-20
  Shapes.Move(ponyta,x,y)
  Program.Delay(100)
EndFor
For i=1 to 11
  Shapes.Move(player,x,y)
  x=x-20
  Shapes.Move(ponyta,x,y)
  Program.Delay(100)
EndFor
GraphicsWindow.Clear()
GraphicsWindow.Width=1000
route1()
x=980
ponyta=Shapes.AddImage(ponytasprite)
Shapes.Move(ponyta,x,y)
player=Shapes.AddImage(playersprite)
Shapes.Move(player,x+20,y)
For i=1 to 11
  Shapes.Move(player,x,y)
  x=x-20
  Shapes.Move(ponyta,x,y)
  Program.Delay(100)
EndFor
For i=1 to 7
  Shapes.Move(player,x,y)
  y=y+20
  Shapes.Move(ponyta,x,y)
  Program.Delay(100)
EndFor
For i=1 to 9
  Shapes.Move(player,x,y)
  x=x-20
  Shapes.Move(ponyta,x,y)
  Program.Delay(100)
EndFor
For i=1 to 9
  Shapes.Move(player,x,y)
  y=y-20
  Shapes.Move(ponyta,x,y)
  Program.Delay(100)
EndFor
For i=1 to 9
  Shapes.Move(player,x,y)
  x=x-20
  Shapes.Move(ponyta,x,y)
  Program.Delay(100)
EndFor
For i=1 to 7
  Shapes.Move(player,x,y)
  y=y+20
  Shapes.Move(ponyta,x,y)
  Program.Delay(100)
EndFor
Shapes.Move(player,x,y)
x=x+20
Shapes.Move(ponyta,x,y)
Program.Delay(250)
For i=420 To 440 Step 20
  For j=340 To 360 Step 20
    Shapes.Remove(rock[i])
  EndFor
EndFor
GraphicsWindow.DrawResizedImage(stairs,420,340,40,40)
Program.Delay(2000)
GraphicsWindow.Clear()
GraphicsWindow.Width=500
cave()
Program.Delay(5000)
GraphicsWindow.Clear()
GraphicsWindow.BackGroundColor="white"
GraphicsWindow.FontSize=20
GraphicsWindow.DrawBoundText(10,10,480,"You've completed the Game!")
GraphicsWindow.DrawBoundText(10,50,480,"The ponyta has led you to a few other missing pokemon after you defeated team rocket. There are just a few here, so where are the rest?")
GraphicsWindow.FontSize=14
GraphicsWindow.DrawBoundText(320,200,170,"I know the menu and the battle weren't very good, but the Program wasn't co-operating with me. I did my best with them. Sorry, if anyone expected more from this, but that's all that I managed. Please note again, that I didn't make any of those images apart from the caterpie, pidgey, rattata, and bookshelves.")
GraphicsWindow.DrawResizedImage(ponytaf,10,200,300,300)

Sub moveScenes
  While movement="go"
    If place="lab" Then
      If lastplace="village1" Then
        x=120
        y=480
      EndIf
      GraphicsWindow.Clear()
      canMove="go"
      player=Shapes.AddImage(playersprite)
      Shapes.Move(player,x,y)
      lab()
      While canMove="go"
        GraphicsWindow.KeyDown=moveLab
      EndWhile
      'this is your house
    ElseIf place="house" then
      GraphicsWindow.Clear()
      canMove="go"
      x=120
      y=480
      player=Shapes.AddImage(playersprite)
      Shapes.Move(player,x,y)
      house()
      While canMove="go"
        GraphicsWindow.KeyDown=moveHouse
      EndWhile
      'this is the village you start in
    ElseIf place="village1" then
      If lastplace="lab" then
        x=180
        y=100
      ElseIf lastplace="house" then
        x=380
        y=80
      ElseIf lastplace="route1" then
        x=0
      Elseif lastplace="route2" then
        x=480
      EndIf
      GraphicsWindow.Clear()
      canMove="go"
      player=Shapes.AddImage(playersprite)
      Shapes.Move(player,x,y)
      village1()
      While canMove="go"
        GraphicsWindow.KeyDown=moveVillage1
      EndWhile
    ElseIf place="route1" then
      If lastplace="village1" then
        x=980
      ElseIf lastplace="village2" then
        x=0
      EndIf
      GraphicsWindow.Clear()
      canMove="go"
      player=Shapes.AddImage(playersprite)
      Shapes.Move(player,x,y)
      route1()
      While canMove="go"
        GraphicsWindow.KeyDown=moveRoute1
      EndWhile
    ElseIf place="village2" then
      If lastplace="route1" then
        x=480
      ElseIf lastplace="pokecenter" then
        x=400
        y=100
      EndIf
      GraphicsWindow.Clear()
      canMove="go"
      player=Shapes.AddImage(playersprite)
      Shapes.Move(player,x,y)
      village2()
      While canMove="go"
        GraphicsWindow.KeyDown=moveVillage2
      EndWhile
    ElseIf place="pokecenter" then
      x=240
      y=480
      GraphicsWindow.Clear()
      canMove="go"
      player=Shapes.AddImage(playersprite)
      Shapes.Move(player,x,y)
      pokecenter()
      While canMove="go"
        GraphicsWindow.KeyDown=movePokecenter
      EndWhile
    ElseIf place="route2" then
      x=0
      y=400
      GraphicsWindow.Clear()
      canMove="go"
      player=Shapes.AddImage(playersprite)
      Shapes.Move(player,x,y)
      route2()
      While canMove="go"
        GraphicsWindow.KeyDown=moveRoute2
      EndWhile
    EndIf
  EndWhile
EndSub

Sub lab
  'make all space empty
  For i=0 to 480 step 20
    For j=0 To 480 Step 20
      space[i][j]="empty"
      'draw the floor tiles
      GraphicsWindow.DrawRectangle(i,j,20,20)
    EndFor
  EndFor
  GraphicsWindow.BackgroundColor="white"
  GraphicsWindow.BrushColor="lightblue"
  'make the wall and label it as 'fill'. This means the character can't walk on it.
  For i=0 To 480 Step 20
    For j=0 To 60 Step 20
      space[i][j]="fill"
      'draw the wall
      GraphicsWindow.FillRectangle(i,j,20,20)
    EndFor
  EndFor
  'make the bookshelf
  For i=0 To 140 Step 20
    For j=200 To 260 Step 20
      space[i][j]="fill"
    EndFor
  EndFor
  'use the bookshelf image
  GraphicsWindow.DrawResizedImage(bookshelf,0,200,160,80)
  For i=340 To 480 Step 20
    For j=200 To 260 Step 20
      space[i][j]="fill"
    EndFor
  EndFor
  GraphicsWindow.DrawResizedImage(bookshelf,340,200,160,80)
  'this mat will show you where to exit
  GraphicsWindow.BrushColor="lightgreen"
  For i=100 To 140 Step 20
    For j=460 To 480 Step 20
      space[i][j]="mat"
      GraphicsWindow.FillRectangle(i,j,20,20)
    EndFor
  EndFor
  'make the pokeball machine (not sure what it's actually called)
  For i=360 To 400 Step 20
    For j=40 To 120 Step 20
      space[i][j]="fill"
      GraphicsWindow.DrawResizedImage(pokeballmachine,360,40,60,100)
    EndFor
  EndFor
  'add people here. Make the space filled
  GraphicsWindow.DrawImage(professorsprite,180,120)
  space[180][120]="fill"
  GraphicsWindow.DrawImage(aidsprite,40,380)
  space[40][380]="fill"
  GraphicsWindow.DrawImage(aidsprite,400,340)
  space[400][340]="fill"
EndSub

Sub moveLab
  mainMove()
  'talk to the professor
  If GraphicsWindow.LastKey="Return" and x=180 and y=140 then
    Shapes.Remove(talk)
    Shapes.Remove(box)
    GraphicsWindow.BrushColor="yellow"
    box=Shapes.AddRectangle(500,80)
    GraphicsWindow.BrushColor="blue"
    talk=Shapes.AddText("You'd better get going.")
    Shapes.Move(talk,10,10)
    'talk to the aid
  ElseIf GraphicsWindow.LastKey="Return" and x=40 and y=400 then
    Shapes.Remove(talk)
    Shapes.Remove(box)
    GraphicsWindow.BrushColor="yellow"
    box=Shapes.AddRectangle(500,80)
    GraphicsWindow.BrushColor="blue"
    talk=Shapes.AddText("The future of all pokemon rests in your hands. Take good care of it.")
    Shapes.Move(talk,10,10)
    'talk to the second aid
  ElseIf GraphicsWindow.Lastkey="Return" and x=400 and y=360 then
    Shapes.Remove(talk)
    Shapes.Remove(box)
    GraphicsWindow.BrushColor="yellow"
    box=Shapes.AddRectangle(500,80)
    GraphicsWindow.BrushColor="blue"
    talk=Shapes.AddText("You should head off to Kitehow town now. It's just to the West of here.")
    Shapes.Move(talk,10,10)
    'enter the menu
  EndIf
  'move the player if needed
  Shapes.Move(player,x,y)
  'exit to the village if in the right spot
  If x>=100 and x<=140 and y=480 then
    place="village1"
    lastplace="lab"
    canMove="no"
  EndIf
EndSub

Sub village1
  'make every space empty
  For i=0 to 480 step 20
    For j=0 To 480 Step 20
      space[i][j]="empty"
    EndFor
  EndFor
  GraphicsWindow.BackgroundColor="limegreen"
  'make both parts of the fence
  For j=0 To 180 Step 20
    space[20][j]="fill"
    GraphicsWindow.FillRectangle(20,j,5,20)
  EndFor
  For j=240 To 480 Step 20
    space[20][j]="fill"
    GraphicsWindow.FillRectangle(20,j,5,20)
  EndFor
  For j=0 To 360 Step 20
    space[480][j]="fill"
    GraphicsWindow.FillRectangle(480,j,5,20)
  EndFor
  For j=440 To 480 Step 20
    space[480][j]="fill"
    GraphicsWindow.FillRectangle(480,j,5,20)
  EndFor
  'make the lab
  GraphicsWindow.FillRectangle(180,80,20,25)
  For i=100 To 240 Step 20
    For j=0 To 80 Step 20
      space[i][j]="fill"
      GraphicsWindow.DrawResizedImage(labbuilding,100,0,160,100)
    EndFor
  EndFor
  'make your house
  GraphicsWindow.FillRectangle(380,60,20,25)
  For i=360 To 460 Step 20
    For j=0 To 60 Step 20
      space[i][j]="fill"
      GraphicsWindow.DrawResizedImage(housebuilding,360,0,120,80)
    EndFor
  EndFor
  'make two other houses
  For i=320 To 420 Step 20
    For j=240 To 300 Step 20
      space[i][j]="fill"
      GraphicsWindow.DrawResizedImage(housebuilding,320,240,120,80)
    EndFor
  EndFor
  For i=100 To 200 Step 20
    For j=320 To 380 Step 20
      space[i][j]="fill"
      GraphicsWindow.DrawResizedImage(housebuilding,100,320,120,80)
    EndFor
  EndFor
  'add a sign
  If haveEgg<2 Then
    GraphicsWindow.DrawResizedImage(sign,460,400,20,20)
    space[460][400]="fill"
  EndIf
  GraphicsWindow.DrawImage(girlsprite,60,140)
  space[60][140]="fill"
  GraphicsWindow.DrawImage(girlsprite,320,100)
  space[320][100]="fill"
  GraphicsWindow.DrawImage(girlsprite,120,260)
  space[120][260]="fill"
  GraphicsWindow.DrawImage(girlsprite,300,400)
  space[300][400]="fill"
EndSub

Sub moveVillage1
  mainMove()
  If GraphicsWindow.LastKey="Return" and x=60 and y=160 then
    Shapes.Remove(talk)
    Shapes.Remove(box)
    GraphicsWindow.BrushColor="yellow"
    box=Shapes.AddRectangle(500,80)
    GraphicsWindow.BrushColor="blue"
    talk=Shapes.AddText("I hear that you're going to find all the pokemon. Good luck!")
    Shapes.Move(talk,10,10)
  ElseIf GraphicsWindow.LastKey="Return" and x=320 and y=120 then
    Shapes.Remove(talk)
    Shapes.Remove(box)
    GraphicsWindow.BrushColor="yellow"
    box=Shapes.AddRectangle(500,80)
    GraphicsWindow.BrushColor="blue"
    talk=Shapes.AddText("My Jigglypuff's Gone! Please get her back...")
    Shapes.Move(talk,10,10)
  ElseIf GraphicsWindow.LastKey="Return" and x=120 and y=280 then
    Shapes.Remove(talk)
    Shapes.Remove(box)
    GraphicsWindow.BrushColor="yellow"
    box=Shapes.AddRectangle(500,80)
    GraphicsWindow.BrushColor="blue"
    talk=Shapes.AddText("Good luck on your journey.")
    Shapes.Move(talk,10,10)
  ElseIf GraphicsWindow.LastKey="Return" and x=300 and y=420 then
    Shapes.Remove(talk)
    Shapes.Remove(box)
    GraphicsWindow.BrushColor="yellow"
    box=Shapes.AddRectangle(500,80)
    GraphicsWindow.BrushColor="blue"
    talk=Shapes.AddText("I don't know what i'll do without my farfetch'd.")
    Shapes.Move(talk,10,10)
  ElseIf GraphicsWindow.LastKey="Return" and x=460 and y=420 and haveEgg<2 then
    Shapes.Remove(talk)
    Shapes.Remove(box)
    GraphicsWindow.BrushColor="yellow"
    box=Shapes.AddRectangle(500,80)
    GraphicsWindow.BrushColor="blue"
    talk=Shapes.AddText("Road is blocked for construction.")
    Shapes.Move(talk,10,10)
    'enter the menu
  EndIf
  Shapes.Move(player,x,y)
  If x=180 And y=100 Then
    canMove="no"
    If haveEgg=1 Then
      movement="no"
    ElseIf haveEgg<>1 then
      place="lab"
      lastplace="village1"
    EndIf
  ElseIf x=380 and y=80 then
    canMove="no"
    place="house"
    lastplace="village1"
  ElseIf x=0 and y<=220 and y>=200 then
    canMove="no"
    place="route1"
    lastplace="village1"
  Elseif x=480 and y>=380 and y<=420 and haveEgg=2 then
    canMove="no"
    place="route2"
    lastplace="village1"
  EndIf
EndSub

Sub house
  'reset all spaces
  For i=0 to 480 step 20
    For j=0 To 480 Step 20
      space[i][j]="empty"
    EndFor
  EndFor
  GraphicsWindow.BackGroundColor="darkkhaki"
  'make a wall
  For i=0 To 480 Step 20
    For j=0 To 80 Step 20
      space[i][j]="fill"
      GraphicsWindow.FillRectangle(i,j,20,20)
    EndFor
  EndFor
  'Make a second wall
  GraphicsWindow.DrawRectangle(280,0,20,280)
  For j=0 To 260 Step 20
    space[280][j]="fill"
    GraphicsWindow.FillRectangle(280,j,20,20)
  EndFor
  'make a table
  GraphicsWindow.DrawResizedImage(table,240,340,80,80)
  For i=240 To 300 Step 20
    For j=340 To 400 Step 20
      space[i][j]="fill"
    EndFor
  EndFor
  'make the mat
  For i=100 To 140 Step 20
    For j=460 To 480 Step 20
      space[i][j]="mat"
      GraphicsWindow.FillRectangle(i,j,20,20)
    EndFor
  EndFor
  'make some stairs
  GraphicsWindow.DrawResizedImage(stairs,0,80,120,80)
  For i=0 To 100 Step 20
    For j=80 To 140 Step 20
      space[i][j]="fill"
    EndFor
  EndFor
  'make a kitchen
  GraphicsWindow.DrawResizedImage(kitchen,301,60,200,80)
  For i=300 To 480 Step 20
    For j=80 To 120 Step 20
      space[i][j]="fill"
    EndFor
  EndFor
  'put in the mother
  GraphicsWindow.DrawImage(mothersprite,200,340)
  space[200][340]="fill"
EndSub

Sub moveHouse
  mainMove()
  If GraphicsWindow.LastKey="Return" and x=200 and y=360 then
    Shapes.Remove(talk)
    Shapes.Remove(star)
    Shapes.Remove(box)
    GraphicsWindow.BrushColor="yellow"
    box=Shapes.AddRectangle(500,80)
    GraphicsWindow.BrushColor="blue"
    talk=Shapes.AddText("Stay here for a bit. I'll heal your pokemon.")
    Shapes.Move(talk,10,10)
    star=Shapes.AddImage(starsprite)
    Shapes.Move(star,200,360)
    pokemonhealth=pokemonmaxhealth
  EndIf
  Shapes.Move(player,x,y)
  If x=120 And y=480 Then
    canMove="no"
    place="village1
    lastplace="house"
  EndIf
EndSub

Sub route1
  GraphicsWindow.Width=1000
  For i=0 to 980 step 20
    For j=0 To 480 Step 20
      space[i][j]="empty"
    EndFor
  EndFor
  'add trees
  GraphicsWindow.BackgroundColor="lawngreen"
  For i=0 To 980 Step 20
    For j=0 To 60 Step 20
      space[i][j]="fill"
      space[i][j+20]="fill"
      GraphicsWindow.DrawImage(tree,i,j)
    EndFor
  EndFor
  'add more trees
  For i=0 To 980 Step 20
    For j=380 To 480 Step 20
      space[i][j]="fill"
      space[i][j+20]="fill"
      GraphicsWindow.DrawImage(tree,i,j)
    EndFor
  EndFor
  'show the entrance
  For j=200 To 220 Step 20
    GraphicsWindow.FillRectangle(980,j,20,20)
  EndFor
  'add grass
  For i=80 To 900 Step 20
    For j=100 To 360 Step 20
      space[i][j]="grass"
      GraphicsWindow.DrawImage(grass,i,j)
    EndFor
  EndFor
  'these are all ridges that you can't go over
  For j=200 To 360 Step 20
    space[360][j]="fill"
    GraphicsWindow.DrawImage(ridge,360,j)
  EndFor
  For j=200 To 360 Step 20
    space[320][j]="fill"
    GraphicsWindow.DrawImage(ridge,320,j)
  EndFor
  space[340][100]="fill"
  GraphicsWindow.DrawImage(ridge,340,100)
  For i=100 To 320 Step 20
    space[i][120]="fill"
    GraphicsWindow.DrawImage(ridge,i,120)
  EndFor
  For j=120 To 260 Step 20
    space[180][j]="fill"
    GraphicsWindow.DrawImage(ridge,180,j)
  EndFor
  For i=420 To 540 Step 20
    space[i][200]="fill"
    GraphicsWindow.DrawImage(ridge,i,200)
  EndFor
  For j=200 To 360 Step 20
    space[560][j]="fill"
    GraphicsWindow.DrawImage(ridge,560,j)
  EndFor
  For j=100 To 320 Step 20
    space[680][j]="fill"
    GraphicsWindow.DrawImage(ridge,680,j)
  EndFor
  For i=680 To 720 Step 20
    space[i][140]="fill"
    GraphicsWindow.DrawImage(ridge,i,140)
  EndFor
  For j=140 To 300 Step 20
    space[740][j]="fill"
    GraphicsWindow.DrawImage(ridge,740,j)
  EndFor
  'make the other exit
  GraphicsWindow.FillRectangle(0,360,20,20)
  'make a pile of rocks
  For i=420 To 440 Step 20
    For j=340 To 360 Step 20
      space[i][j]="fill"
      rock[i]=Shapes.AddImage(ridge)
      Shapes.Move(rock[i],i,j)
    EndFor
  EndFor
  'add items
  If item1=0 Then
    item1sprite=Shapes.AddImage(itemsprite)
    Shapes.Move(item1sprite,320,100)
    space[320][100]="fill"
  EndIf
  If item2=0 Then
    item2sprite=Shapes.AddImage(itemsprite)
    Shapes.Move(item2sprite,340,360)
    space[340][360]="fill"
  EndIf
  If item3=0 then
    item3sprite=Shapes.AddImage(itemsprite)
    Shapes.Move(item3sprite,700,160)
    space[700][160]="fill"
  EndIf
  'add a couple people that you will be able to battle
  person1=Shapes.AddImage(boysprites)
  Shapes.Move(person1,160,200)
  space[160][200]="fill"
  person2=Shapes.AddImage(boyspriteb)
  Shapes.Move(person2,220,360)
  space[220][360]="fill"
  person3=Shapes.AddImage(boysprites)
  Shapes.Move(person3,540,220)
  space[540][220]="fill"
EndSub

Sub moveRoute1
  mainMove()
  'these next three Ifs will be picking up items
  If GraphicsWindow.LastKey="Return" And x=300 And y=100 And item1=0 Then
    Shapes.Remove(box)
    Shapes.Remove(talk)
    GraphicsWindow.BrushColor="yellow"
    box=Shapes.AddRectangle(1000,80)
    GraphicsWindow.BrushColor="blue"
    talk=SHapes.AddText("You have found a potion.")
    Shapes.Move(talk,10,10)
    potion=potion+1
    item1=1
    Shapes.Remove(item1sprite)
  ElseIf GraphicsWindow.LastKey="Return" and x=340 and y=340 and item2=0 then
    Shapes.Remove(box)
    Shapes.Remove(talk)
    GraphicsWindow.BrushColor="yellow"
    box=Shapes.AddRectangle(1000,80)
    GraphicsWindow.BrushColor="blue"
    talk=SHapes.AddText("You have found a potion.")
    Shapes.Move(talk,10,10)
    potion=potion+1
    item2=1
    Shapes.Remove(item2sprite)
  ElseIf GraphicsWindow.LastKey="Return" and x=700 and y=180 and item3=0 then
    Shapes.Remove(box)
    Shapes.Remove(talk)
    GraphicsWindow.BrushColor="yellow"
    box=Shapes.AddRectangle(1000,80)
    GraphicsWindow.BrushColor="blue"
    talk=SHapes.AddText("You have found a potion.")
    Shapes.Move(talk,10,10)
    potion=potion+1
    item3=1
    Shapes.Remove(item3sprite)
  ElseIf GraphicsWindow.LastKey="Return" and x=140 and y=200 then
    If battle1=0 then
      enemy="caterpie"
      ehealth=20
      edefence=6
      eattack=12
      battle()
      battle1=1
    ElseIf battle1=1 then
    Shapes.Remove(box)
    Shapes.Remove(talk)
    GraphicsWindow.BrushColor="yellow"
    box=Shapes.AddRectangle(1000,80)
    GraphicsWindow.BrushColor="blue"
    talk=Shapes.AddText("I can't believe you beat me...")
    Shapes.Move(talk,10,10)
    EndIf
  ElseIf GraphicsWindow.LastKey="Return" and x=220 and y=340 then
    If battle2=0 then
      enemy="hoothoot"
      ehealth=20
      edefence=6
      eattack=12
      battle()
      battle2=1
    ElseIf battle2=1 then
    Shapes.Remove(box)
    Shapes.Remove(talk)
    GraphicsWindow.BrushColor="yellow"
    box=Shapes.AddRectangle(1000,80)
    GraphicsWindow.BrushColor="blue"
    talk=Shapes.AddText("I need to get stronger, but there's nobody to battle me...")
    Shapes.Move(talk,10,10)
    EndIf
  ElseIf GraphicsWindow.LastKey="Return" and x=520 and y=220 then
    If battle3=0 then
      enemy="rattata"
      ehealth=20
      edefence=4
      eattack=8
      battle()
      battle3=1
    Elseif battle3=1 then
    Shapes.Remove(box)
    Shapes.Remove(talk)
    GraphicsWindow.BrushColor="yellow"
    box=Shapes.AddRectangle(1000,80)
    GraphicsWindow.BrushColor="blue"
    talk=Shapes.AddText("I wonder why my pokemon aren't gone.")
    Shapes.Move(talk,10,10)
    EndIf
  EndIf
  Shapes.Move(player,x,y)
  If x=980 And y<=220 And y>=200 Then
    canMove="no"
    place="village1"
    lastplace="route1"
    GraphicsWindow.Width=500
  ElseIf x=0 and y=360 then
    canMove="no"
    place="village2"
    lastplace="route1"
    GraphicsWindow.Width=500
  EndIf
  If space[x][y]="grass" and justmove=1 Then
    battlechance=Math.GetRandomNumber(1000)
    If battlechance>950 Then
      battlechance=Math.GetRandomNumber(4)
      If battlechance=1 Then
        enemy="pidgey"
      ElseIf battlechance=2 then
        enemy="rattata"
      ElseIf battlechance=3 then
        enemy="sentret"
      ElseIf battlechance=4 then
        enemy="hoothoot"
      EndIf
      level=Math.GetRandomNumber(4)
      ehealth=Math.GetRandomNumber(2)*level+5
      eattack=Math.GetRandomNumber(3)*level+3
      edefence=1*level
      battle()
    EndIf
  EndIf
EndSub

Sub village2
  For i=0 To 480 Step 20
    For j=0 To 480 Step 20
      space[i][j]="empty"
    EndFor
  EndFor
  GraphicsWindow.BackgroundColor="limegreen"
  For j=0 To 340 Step 20
    space[480][j]="fill"
    GraphicsWindow.FillRectangle(480,j,5,20)
  EndFor
  For j=380 To 480 Step 20
    space[480][j]="fill"
    GraphicsWindow.FillRectangle(480,j,5,20)
  EndFor
  'add a block of water
  For i=0 To 220 Step 20
    For j=300 To 480 Step 20
      space[i][j]="fill"
      GraphicsWindow.DrawResizedImage(water,i,j,22,22)
    EndFor
  EndFor
  'put in the pokecenter
  GraphicsWindow.DrawResizedImage(pokecenterbuilding,340,0,120,100)
  GraphicsWindow.FillRectangle(380,100,40,20)
  For i=340 To 440 Step 20
    For j=0 To 80 Step 20
      space[i][j]="fill"
    EndFor
  EndFor
  'put a couple houses
  GraphicsWindow.DrawResizedImage(housebuilding,0,0,120,80)
  For i=0 To 100 Step 20
    For j=0 To 60 Step 20
      space[i][j]="fill"
    EndFor
  EndFor
  GraphicsWindow.DrawResizedImage(housebuilding,40,120,120,80)
  For i=40 To 140 Step 20
    For j=120 To 180 Step 20
      space[i][j]="fill"
    EndFor
  EndFor
  GraphicsWindow.DrawResizedImage(housebuilding,240,360,120,80)
  For i=240 To 340 Step 20
    For j=360 To 420 Step 20
      space[i][j]="fill"
    EndFor
  EndFor
  'add people
  GraphicsWindow.DrawImage(lady1sprite,300,300)
  space[300][300]="fill"
  GraphicsWindow.DrawImage(lady2sprite,300,160)
  space[300][160]="fill"
  GraphicsWindow.DrawImage(girlsprite,320,160)
  space[320][160]="fill"
  GraphicsWindow.DrawImage(lady1sprite,380,260)
  space[380][260]="fill"
EndSub

Sub moveVillage2
  mainMove()
  If GraphicsWindow.LastKey="Return" And x=300 And y=320 Then
    Shapes.Remove(box)
    Shapes.Remove(talk)
    GraphicsWindow.BrushColor="yellow"
    box=Shapes.AddRectangle(500,80)
    GraphicsWindow.BrushColor="blue"
    talk=Shapes.AddText("It feels so empty now.")
    Shapes.Move(talk,10,10)
  ElseIf GraphicsWindow.LastKey="Return" and x=300 and y=180 then
    Shapes.Remove(box)
    Shapes.Remove(talk)
    GraphicsWindow.BrushColor="yellow"
    box=Shapes.AddRectangle(500,80)
    GraphicsWindow.BrushColor="blue"
    talk=Shapes.AddText("My little sister really misses her Pikachu. Can you get it back?")
    Shapes.Move(talk,10,10)
  ElseIf GraphicsWindow.LastKey="Return" and x=320 and y=180 then
    Shapes.Remove(box)
    Shapes.Remove(talk)
    GraphicsWindow.BrushColor="yellow"
    box=Shapes.AddRectangle(500,80)
    GraphicsWindow.BrushColor="blue"
    talk=Shapes.AddText("My daddy's gone to find our pokemon. Have you seen him?")
    Shapes.Move(talk,10,10)
  ElseIf GraphicsWindow.LastKey="Return" and x=380 and y=280 then
    Shapes.Remove(box)
    Shapes.Remove(talk)
    GraphicsWindow.BrushColor="yellow"
    box=Shapes.AddRectangle(500,80)
    GraphicsWindow.BrushColor="blue"
    talk=Shapes.AddText("You're going to find them all?")
    Shapes.Move(talk,10,10)
  EndIf
  Shapes.Move(player,x,y)
  If x=480 And y=360 Then
    canMove="no"
    place="route1"
    lastplace="village2"
  ElseIf x>=380 and x<=400 and y=100 then
    canMove="no"
    place="pokecenter"
    lastplace="village2"
  EndIf
EndSub

Sub pokecenter
  For i=0 To 480 Step 20
    For j=0 To 480 Step 20
      space[i][j]="empty"
    EndFor
  EndFor
  GraphicsWindow.BackgroundColor="#E5DFAF"
  'make the counter
  GraphicsWindow.BrushColor="white"
  GraphicsWindow.FillRectangle(120,180,260,20)
  GraphicsWindow.BrushColor="#F68170"
  GraphicsWindow.FillRectangle(120,0,40,180)
  GraphicsWindow.FillRectangle(340,0,40,180)
  GraphicsWindow.FillRectangle(160,160,180,20)
  For i= 120 To 360 Step 20
    For j=0 To 180 Step 20
      space[i][j]="fill"
    EndFor
  EndFor
  'add mat
  GraphicsWindow.FillRectangle(240,480,20,20)
  'add the nurse
  GraphicsWindow.DrawImage(nursesprite,240,140)
  'add people
  GraphicsWindow.DrawImage(lady1sprite,40,180)
  space[40][180]="fill"
  GraphicsWindow.DrawImage(boysprites,360,260)
  space[360][260]="fill"
  GraphicsWindow.DrawImage(girlsprite,100,340)
  space[100][340]="fill"
EndSub

Sub movePokecenter
  mainMove()
  If GraphicsWindow.LastKey="Return" And x=240 And y=200 Then
    Shapes.Remove(talk)
    Shapes.Remove(star)
    Shapes.Remove(box)
    GraphicsWindow.BrushColor="yellow"
    box=Shapes.AddRectangle(500,80)
    GraphicsWindow.BrushColor="blue"
    talk=Shapes.AddText("If you wait a moment, I'll heal your pokemon.")
    Shapes.Move(talk,10,10)
    star=Shapes.AddImage(starsprite)
    Shapes.Move(star,240,200)
    pokemonhealth=pokemonmaxhealth
  EndIf
  Shapes.Move(player,x,y)
  If x=240 And y=480 Then
    canMove="no"
    If haveEgg=0 Then
      movement="no"
    ElseIf haveEgg<>0 then
      place="village2"
      lastplace="pokecenter"
    EndIf
  ElseIf GraphicsWindow.LastKey="Return" and x=40 and y=200 then
    Shapes.Remove(box)
    Shapes.Remove(talk)
    GraphicsWindow.BrushColor="yellow"
    box=Shapes.AddRectangle(500,80)
    GraphicsWindow.BrushColor="blue"
    talk=Shapes.AddText("This is terrible service! They won't give my pokemon back!")
    Shapes.Move(talk,10,10)
  Elseif GraphicsWindow.LastKey="Return" and x=340 and y=260 then
    Shapes.Remove(box)
    Shapes.Remove(talk)
    GraphicsWindow.BrushColor="yellow"
    box=Shapes.AddRectangle(500,80)
    GraphicsWindow.BrushColor="blue"
    talk=Shapes.AddText("How where they stolen from here?")
    Shapes.Move(talk,10,10)
  ElseIf GraphicsWindow.LastKey="Return" and x=100 and y=360 then
    Shapes.Remove(box)
    Shapes.Remove(talk)
    GraphicsWindow.BrushColor="yellow"
    box=Shapes.AddRectangle(500,80)
    GraphicsWindow.BrushColor="blue"
    talk=Shapes.AddText("My pokemon was my life.")
    Shapes.Move(talk,10,10)
  EndIf
EndSub

Sub route2
  GraphicsWindow.Width=1000
  GraphicsWindow.BackgroundColor="lawngreen"
  For i=0 To 980 Step 20
    For j=0 to 480 step 20
      space[i][j]="empty"
    EndFor
  EndFor
  'exit places
  GraphicsWindow.FillRectangle(0,400,20,20)
  GraphicsWindow.FillRectangle(980,60,20,20)
  'add forest
  For i=0 To 140 Step 20
    For j=420 To 480 step 20
      space[i][j]="fill"
      space[i][j+20]="fill"
      GraphicsWindow.DrawImage(tree,i,j)
    EndFor
  EndFor
  For i=0 To 360 Step 20
    For j=0 To 80 Step 20
      space[i][j]="fill"
      space[i][j+20]="fill"
      GraphicsWindow.DrawImage(tree,i,j)
    EndFor
  EndFor
  For i=640 to 980 Step 20
    For j=300 To 480 Step 20
      space[i][j]="fill"
      space[i][j+20]="fill"
      GraphicsWindow.DrawImage(tree,i,j)
    EndFor
  EndFor
  'add grass
  For i=120 To 620 Step 20
    For j=300 To 340 Step 20
      space[i][j]="grass"
      GraphicsWindow.DrawImage(grass,i,j)
    EndFor
  EndFor
  For i=0 To 100 Step 20
    For j=220 To 340 Step 20
      space[i][j]="grass"
      GraphicsWindow.DrawImage(grass,i,j)
    EndFor
  EndFor
  For i=120 To 240 Step 20
    For j=220 To 260 Step 20
      space[i][j]="grass"
      GraphicsWindow.DrawImage(grass,i,j)
    EndFor
  EndFor
  For i=0 To 220 Step 20
    For j=120 To 180 Step 20
      space[i][j]="grass"
      GraphicsWindow.DrawImage(grass,i,j)
    EndFor
  EndFor
  space[i][j]="grass"
  GraphicsWindow.DrawImage(grass,240,120)
  For i=380 To 800 Step 20
    For j=0 To 40 Step 20
      space[i][j]="grass"
      GraphicsWindow.DrawImage(grass,i,j)
    EndFor
  EndFor
  For i=820 To 980 Step 20
    space[i][0]="grass"
    GraphicsWindow.DrawImage(grass,i,0)
  EndFor
  For i=840 To 860 Step 20
    For j=20 To 140 Step 20
      space[i][j]="grass"
      GraphicsWindow.DrawImage(grass,i,j)
    EndFor
  EndFor
  For i=880 To 980 Step 20
    For j=120 To 140 Step 20
      space[i][j]="grass"
      GraphicsWindow.DrawImage(grass,i,j)
    EndFor
  EndFor
  For i=900 To 940 Step 20
    For j=40 To 80 Step 20
      space[i][j]="grass"
      GraphicsWindow.DrawImage(grass,i,j)
    EndFor
  EndFor
  'add ridges
  For i=0 To 220 Step 20
    space[i][360]="fill"
    GraphicsWindow.DrawImage(ridge,i,360)
  EndFor
  For i=120 To 980 Step 20
    space[i][280]="fill"
    GraphicsWindow.DrawImage(ridge,i,280)
  EndFor
  For i=0 To 220 Step 20
    space[i][200]="fill"
    GraphicsWindow.DrawImage(ridge,i,200)
  EndFor
  For j=140 to 200 step 20
    space[240][j]="fill"
    GraphicsWindow.DrawImage(ridge,240,j)
  EndFor
  For i=460 To 800 Step 20
    space[i][60]="fill"
    GraphicsWindow.DrawImage(ridge,i,60)
  EndFor
  For j=20 To 160 Step 20
    space[820][j]="fill"
    GraphicsWindow.DrawImage(ridge,820,j)
  EndFor
  For i=840 To 980 Step 20
    space[i][160]="fill"
    GraphicsWindow.DrawImage(ridge,i,160)
  EndFor
  For i=880 To 940 Step 20
    space[i][100]="fill"
    GraphicsWindow.DrawImage(ridge,i,100)
  EndFor
  For j=20 To 80 Step 20
    space[880][j]="fill"
    GraphicsWindow.DrawImage(ridge,880,j)
  EndFor
  For i=900 To 980 Step 20
    space[i][20]="fill"
    GraphicsWindow.DrawImage(ridge,i,20)
  EndFor
  'add items
  If item4=0 Then
    item4sprite=Shapes.AddImage(itemsprite)
    Shapes.Move(item4sprite,620,480)
    space[620][480]="fill"
  EndIf
  If item5=0 Then
    item5sprite=Shapes.AddImage(itemsprite)
    Shapes.Move(item5sprite,620,300)
    space[620][300]="fill"
  EndIf
  If item6=0 Then
    item6sprite=Shapes.AddImage(itemsprite)
    Shapes.Move(item6sprite,0,140)
    space[0][140]="fill"
  EndIf
  If item7=0 Then
    item7sprite=Shapes.AddImage(itemsprite)
    Shapes.Move(item7sprite,900,40)
    space[900][40]="fill"
  EndIf
  'add people
  person1=Shapes.AddImage(boyspriteb)
  Shapes.Move(person1,160,480)
  space[160][480]="fill"
  person2=Shapes.AddImage(boysprites2)
  Shapes.Move(person2,20,240)
  space[20][240]="fill"
  person3=Shapes.AddImage(boysprites)
  Shapes.Move(person3,660,160)
  space[660][160]="fill"
  person4=Shapes.AddImage(boyspriteb)
  Shapes.Move(person4,840,140)
  space[840][140]="fill"
EndSub

Sub moveRoute2
  mainMove()
  'get items
  If GraphicsWindow.LastKey="Return" And x=620 And y=460 And item4=0 Then
    Shapes.Remove(box)
    Shapes.Remove(talk)
    GraphicsWindow.BrushColor="yellow"
    box=Shapes.AddRectangle(1000,80)
    GraphicsWindow.BrushColor="blue"
    talk=SHapes.AddText("You have found a potion.")
    Shapes.Move(talk,10,10)
    potion=potion+1
    item4=1
    Shapes.Remove(item4sprite)
  ElseIf GraphicsWindow.LastKey="Return" and x=620 and y=320 and item5=0 then
    Shapes.Remove(box)
    Shapes.Remove(talk)
    GraphicsWindow.BrushColor="yellow"
    box=Shapes.AddRectangle(1000,80)
    GraphicsWindow.BrushColor="blue"
    talk=SHapes.AddText("You have found a potion.")
    Shapes.Move(talk,10,10)
    potion=potion+1
    item5=1
    Shapes.Remove(item5sprite)
  ElseIf GraphicsWindow.LastKey="Return" and x=20 and y=140 and item6=0 then
    Shapes.Remove(box)
    Shapes.Remove(talk)
    GraphicsWindow.BrushColor="yellow"
    box=Shapes.AddRectangle(1000,80)
    GraphicsWindow.BrushColor="blue"
    talk=SHapes.AddText("You have found a potion.")
    Shapes.Move(talk,10,10)
    potion=potion+1
    item6=1
    Shapes.Remove(item6sprite)
  ElseIf GraphicsWindow.LastKey="Return" and x=900 and y=60 and item7=0 then
    Shapes.Remove(box)
    Shapes.Remove(talk)
    GraphicsWindow.BrushColor="yellow"
    box=Shapes.AddRectangle(1000,80)
    GraphicsWindow.BrushColor="blue"
    talk=SHapes.AddText("You have found a potion.")
    Shapes.Move(talk,10,10)
    potion=potion+1
    item7=1
    Shapes.Remove(item7sprite)
  Elseif GraphicsWindow.LastKey="Return" and x=160 and y=460 then
    If battle4=0 then
      enemy="weedle"
      ehealth=18
      eattack=9
      edefence=12
      battle()
      battle4=1
    Elseif battle4=1 then
    Shapes.Remove(box)
    Shapes.Remove(talk)
    GraphicsWindow.BrushColor="yellow"
    box=Shapes.AddRectangle(500,80)
    GraphicsWindow.BrushColor="blue"
    talk=Shapes.AddText("At least my pokemon are still here.")
    Shapes.Move(talk,10,10)
    EndIf
  Elseif GraphicsWindow.LastKey="Return" and x=40 and y=240 then
    If battle5=0 then
      enemy="bellsprout"
      ehealth=18
      eattack=9
      edefence=12
      battle()
      battle5=1
    Elseif battle5=1 then
    Shapes.Remove(box)
    Shapes.Remove(talk)
    GraphicsWindow.BrushColor="yellow"
    box=Shapes.AddRectangle(500,80)
    GraphicsWindow.BrushColor="blue"
    talk=Shapes.AddText("I never even saw anyone taking them.")
    Shapes.Move(talk,10,10)
    EndIf
  Elseif GraphicsWindow.LastKey="Return" and x=640 and y=160 then
    If battle6=0 then
      enemy="pidgey"
      ehealth=18
      eattack=9
      edefence=12
      battle()
      battle6=1
    Elseif battle6=1 then
    Shapes.Remove(box)
    Shapes.Remove(talk)
    GraphicsWindow.BrushColor="yellow"
    box=Shapes.AddRectangle(500,80)
    GraphicsWindow.BrushColor="blue"
    talk=Shapes.AddText("Why are all the stronger wild pokemon gone?")
    Shapes.Move(talk,10,10)
    EndIf
  Elseif GraphicsWindow.LastKey="Return" and x=840 and y=120 then
    If battle7=0 then
      enemy="ledyba"
      ehealth=18
      eattack=9
      edefence=12
      battle()
      battle7=1
    ElseIf battle7=1 then
    Shapes.Remove(box)
    Shapes.Remove(talk)
    GraphicsWindow.BrushColor="yellow"
    box=Shapes.AddRectangle(500,80)
    GraphicsWindow.BrushColor="blue"
    talk=Shapes.AddText("Everybody's left the town. Team rocket has taken over.")
    Shapes.Move(talk,10,10)
    EndIf
  EndIf
  Shapes.Move(player,x,y)
  If x=0 And y=400 Then
    place="village1"
    lastplace="route2"
    canMove="no"
    GraphicsWindow.Width=500
  ElseIf x=980 and y=60 then
    canMove="no"
    movement="no"
  EndIf
  If space[x][y]="grass" and justmove=1 Then
    battlechance=Math.GetRandomNumber(1000)
    If battlechance>950 Then
      battlechance=Math.GetRandomNumber(3)
      If battlechance=1 Then
        enemy="ledyba"
      ElseIf battlechance=2 then
        enemy="weedle"
      ElseIf battlechance=3 then
        enemy="bellsprout"
      EndIf
      level=Math.GetRandomNumber(6)
      ehealth=Math.GetRandomNumber(2)*level+5
      eattack=Math.GetRandomNumber(3)*level+3
      edefence=1*level
      battle()
    EndIf
  EndIf
EndSub

Sub village3'I don't need to add the space[i][j] here because you won't be moving here. This is just the background for a scene.
  GraphicsWindow.BackGroundColor="lawngreen"
  'make the fence
  For j=0 To 40 Step 20
    GraphicsWindow.FillRectangle(20,j,5,20)
  EndFor
  For j=80 To 480 step 20
    GraphicsWindow.FillRectangle(20,j,5,20)
  EndFor
  'make the houses
  GraphicsWindow.DrawResizedImage(housebuilding,260,40,120,100)
  GraphicsWindow.DrawResizedImage(housebuilding,40,260,120,100)
  GraphicsWindow.DrawResizedImage(housebuilding,220,380,120,100)
  'make the pokecenter
  GraphicsWindow.DrawResizedImage(pokecenterbuilding,240,220,120,100)
  'add the pokemon
  ponyta=Shapes.AddImage(ponytasprite)
  Shapes.Move(pokemon,100,80)
  'add team rocket
  person1=Shapes.AddImage(teamrocket)
  Shapes.Move(person1,120,40)
  person2=Shapes.AddImage(teamrocket)
  Shapes.Move(person2,240,160)
  person3=Shapes.AddImage(teamrocket)
  Shapes.Move(person3,80,180)
EndSub

Sub cave
  GraphicsWindow.DrawResizedImage(cave,0,0,500,500)
  GraphicsWindow.DrawImage(rarepokemon,210,200)
EndSub

Sub nextText
  If GraphicsWindow.LastKey="Return" Then
    'advances the txt and plays
    txt=txt+1
    pause=0
  EndIf
EndSub

Sub switch
  If GraphicsWindow.LastKey="A" Then
    'cycle to the left
    poke=poke-1
    If poke=0 Then
      poke=3
    EndIf
    pause=0
  ElseIf GraphicsWindow.LastKey="D" then
    'cycle to the right
    poke=poke+1
    If poke=4 then
      poke=1
    EndIf
    pause=0
  ElseIf GraphicsWindow.LastKey="Return" then
    'select and set stats
    pokemonmaxhealth=Math.GetRandomNumber(2)+18
    pokemonhealth=pokemonmaxhealth
    pokemonattack=Math.GetRandomNumber(3)+5
    pokemondefence=5
    pokemonlevel=5
    pokemonexp=0
    'end the while loop
    choose=0
  EndIf
EndSub

Sub chooseYesNo
  If GraphicsWindow.MouseY>=230 And GraphicsWindow.MouseY<=270 And GraphicsWindow.MouseX>=160 And GraphicsWindow.MouseX<=240 Then
    answer="yes"
    choose=1
  ElseIf GraphicsWindow.MouseY>=230 And GraphicsWindow.MouseY<=270 And GraphicsWindow.MouseX>=260 And GraphicsWindow.MouseX<=340 Then
    answer="no"
    choose=1
  EndIf
EndSub

Sub menu
  GraphicsWindow.Hide()
  TextWindow.Show()
  While menugo>0
  TextWindow.Clear()
  TextWindow.WriteLine("Pokemon: ")
  TextWindow.WriteLine(pokemon)
  TextWindow.WriteLine("Health: "+pokemonhealth+"/"+pokemonmaxhealth)
  TextWindow.WriteLine("Level: "+pokemonlevel)
  TextWindow.WriteLine("Exp: "+pokemonexp)
  TextWindow.WriteLine("")
  TextWindow.WriteLine("(1)Potions: "+potion)
  TextWindow.WriteLine("")
  TextWindow.WriteLine("(2)Exit")
  choice=TextWindow.ReadNumber()
  If choice=1 and potion>0 then
    pokemonhealth=pokemonhealth+20
    If pokemonhealth>pokemonmaxhealth then
      pokemonhealth=pokemonmaxhealth
    EndIf
    potion=potion-1
    menugo=menugo-1
  Elseif choice=2 then
    menugo=0
  EndIf
EndWhile
TextWindow.Hide()
GraphicsWindow.Show()
EndSub

Sub battle
  battlego=1
  GraphicsWindow.Hide()
  TextWindow.Show()
  While pokemonhealth>0 And ehealth>0 And battlego=1
    TextWindow.Pause()
    TextWindow.Clear()
    TextWindow.WriteLine(pokemon)
    TextWindow.WriteLine("Health: "+pokemonhealth+"/"+pokemonmaxhealth)
    TextWindow.WriteLine("")
    TextWindow.WriteLine(enemy)
    TextWindow.WriteLine("Enemy Health: "+ehealth)
    TextWindow.WriteLine("")
    TextWindow.WriteLine("(1)Tackle")
    If pokemon="Pidgey" Then
      TextWindow.WriteLine("(2)Gust")
    ElseIf pokemon="Rattata" then
      TextWindow.WriteLine("(2)Quick Attack")
    ElseIf pokemon="Caterpie" then
      TextWindow.WriteLine("(2)Bugbite")
    EndIf
    TextWindow.WriteLine("(3)Potion: "+potion)
    TextWindow.WriteLine("(4)Escape")
    choice=TextWindow.ReadNumber()
    If choice=1 Then
      damage=pokemonattack*1-edefence
    ElseIf choice=2 and pokemon="Pidgey" then
      damage=pokemonattack*0.8-edefence
    ElseIf choice=2 and pokemon="Rattata" then
      damage=pokemonattack*0.8-edefence
    ElseIf choice=2 and pokemon="Caterpie" then
      damage=pokemonattack*1.2-edefence
    EndIf
    If damage>0 Then
      ehealth=ehealth-damage
      TextWindow.WriteLine("You have done "+damage+" damage.")
    EndIf
    damage=0
    If choice=3 And potion>0 Then
      pokemonhealth=pokemonhealth+20
If pokemonhealth>pokemonmaxhealth then
        pokemonhealth=pokemonmaxhealth
      EndIf
      potion=potion-1
      TextWindow.WriteLine("You have used a potion.")
    elseIf choice=4 Then
      battlego=0
    EndIf
    'enemy turn
    If ehealth>0 then
    If enemy="hoothoot" Then
      move=Math.GetRandomNumber(2)
      If move=1 then
        damage=eattack*1-pokemondefence
      ElseIf move=2 then
        damage=eattack*0.7-pokemondefence
      EndIf
    ElseIf enemy="pidgey" then
      move=Math.GetRandomNumber(2)
      If move=1 then
        damage=eattack*1-pokemondefence
      ElseIf move=2 then
        damage=eattack*0.8-pokemondefence
      EndIf
    Elseif enemy="rattata" then
      move=Math.GetRandomNumber(2)
      If move=1 then
        damage=eattack*1-pokemondefence
      ElseIf move=2 then
        damage=eattack*0.8-pokemondefence
      EndIf
    ElseIf enemy="sentret" then
      move=Math.GetRandomNumber(2)
      If move=1 then
        damage=eattack*0.8-pokemondefence
      ElseIf move=2 then
        damage=eattack*0.8-pokemondefence
      EndIf
    Elseif enemy="caterpie" then
      move=Math.GetRandomNumber(2)
      If move=1 then
        damage=eattack*1-pokemondefence
      ElseIf move=2 then
        damage=eattack*1.2-pokemondefence
      EndIf
    Elseif enemy="ledyba" then
      move=Math.GetRandomNumber(2)
      If move=1 then
        damage=eattack*1-pokemondefence
      ElseIf move=2 then
        damage=eattack*0.36-pokemondefence
      EndIf
    Elseif enemy="weedle" then
      move=Math.GetRandomNumber(2)
      If move=1 then
        damage=eattack*0.3-pokemondefence
      ElseIf move=2 then
        damage=eattack*1.2-pokemondefence
      EndIf
    Elseif enemy="bellsprout" then
      move=Math.GetRandomNumber(2)
      If move=1 then
        damage=eattack*0.7-pokemondefence
      ElseIf move=2 then
        damage=eattack*0.3-pokemondefence
      EndIf
    ElseIf enemy="gastly" then
      move=Math.GetRandomNumber(2)
      If move=1 then
        damage=eattack*0.4-pokemondefence
      ElseIf move=2 then
        damage=eattack*1.6-pokemondefence
      EndIf
    Elseif enemy="houndour" then
      move=Math.GetRandomNumber(2)
      If move=1 then
        damage=eattack*0.8-pokemondefence
      ElseIf move=2 then
        damage=eattack*0.4-pokemondefence
      EndIf
    Elseif enemy="sneasel" then
      move=Math.GetRandomNumber(2)
      If move=1 then
        damage=eattack*0.8-pokemondefence
      ElseIf move=2 then
        damage=eattack*1.2-pokemondefence
      EndIf
    EndIf
    If damage>0 then
      pokemonhealth=pokemonhealth-damage
      TextWindow.WriteLine("The enemy has done "+damage+" damage.")
      EndIf
      EndIf
      damage=0
      TextWindow.Pause()
  EndWhile
  If pokemonhealth<=0 Then
    place="village1"
    lastplace="house"
    pokemonhealth=pokemonmaxhealth
    canMove="no"
    GraphicsWindow.Width=500
    If haveEgg=2 Then
      Goto revive
    EndIf
  ElseIf pokemonhealth>0 and battlego=1 then
    expgain=250/pokemonlevel
    expgain=Math.Round(expgain)
    pokemonexp=pokemonexp+expgain
    TextWindow.WriteLine("You have gained "+expgain+" exp.")
    If pokemonexp>=100 then
      pokemonexp=pokemonexp-100
      pokemonlevel=pokemonlevel+1
      pokemonmaxhealth=pokemonmaxhealth+Math.GetRandomNumber(2)
      pokemonattack=pokemonattack+1
      pokemondefence=pokemondefence+1
      TextWindow.WriteLine("You have gone up a level.")
    EndIf
    TextWindow.Pause()
  EndIf
  TextWindow.Hide()
  GraphicsWindow.Show()
EndSub

Sub mainMove
  justmove=0
  Shapes.Remove(box)
  Shapes.Remove(talk)
  Shapes.Remove(star)
  'if the last key is a and you can move right, then move right. This also gets rid of any text boxes
  If GraphicsWindow.LastKey="A" And Shapes.GetLeft(player)>0 And space[x-20][y]<>"fill" Then
    x=x-20
    justmove=1
    'moving down
  ElseIf GraphicsWindow.LastKey="S" and Shapes.GetTop(player)<480 and space[x][y+20]<>"fill" then
    y=y+20
    justmove=1
    'move left
  ElseIf GraphicsWindow.LastKey="D" and Shapes.GetLeft(player)<(GraphicsWindow.Width-20) and space[x+20][y]<>"fill" then
    x=x+20
    justmove=1
    'move up
  ElseIf GraphicsWindow.LastKey="W" and Shapes.GetTop(player)>0 and space[x][y-20]<>"fill" then
    y=y-20
    justmove=1
    'enters menu
  ElseIf GraphicsWindow.LastKey="Space" then
    menugo=100
    menu()
    'teleports to home (if you get stuck somewhere like my brother manages in route 1)
  ElseIf GraphicsWindow.LastKey="U" then
    canMove="no"
    place="village1"
    lastplace="house"
    GraphicsWindow.Width=500
  EndIf
EndSub
