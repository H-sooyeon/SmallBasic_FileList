path = Program.Directory

'GraphicsWindow.KeyDown = attackmp

' The following line could be harmful and has been automatically commented.

' region = File.ReadLine(path + "\Allianz\data\options.allianz",4)

' The following line could be harmful and has been automatically commented.

' op_consset = File.ReadLine(path + "\Allianz\data\options.allianz",3)

' The following line could be harmful and has been automatically commented.

' op_pointer = File.ReadLine(path + "\Allianz\data\options.allianz",5)

' The following line could be harmful and has been automatically commented.

' op_autosave = File.ReadLine(path + "\Allianz\data\options.allianz",7)

' The following line could be harmful and has been automatically commented.

' pack = File.ReadLine(path + "\Allianz\data\options.allianz",6)

' The following line could be harmful and has been automatically commented.

' tst_pack = File.ReadLine(path + "\Allianz\" + pack + "\colors.tex",1)

If tst_pack = "" Then

  pack = "textures"

EndIF

If op_consset = "console=true" Then

  TextWindow.Title = path

  TextWindow.WriteLine("Starting up...")

  TextWindow.WriteLine("Found Textures: " + path + "\Allianz\" + pack)

  TextWindow.Write("Loading Textures.")

EndIf

'texturen laden

GraphicsWindow.Hide()

men_bg_raw = ImageList.LoadImage(path + "\Allianz\" + pack + "\bg.png")

men_bgin_raw = ImageList.LoadImage(path + "\Allianz\" + pack + "\bg_ingame.png")

W1_raw = ImageList.LoadImage(path + "\Allianz\" + pack + "\W.png")

D1_raw = ImageList.LoadImage(path + "\Allianz\" + pack + "\D.png")

K1_raw = ImageList.LoadImage(path + "\Allianz\" + pack + "\K.png")

W2_raw = ImageList.LoadImage(path + "\Allianz\" + pack + "\W.png")

D2_raw = ImageList.LoadImage(path + "\Allianz\" + pack + "\D.png")

K2_raw = ImageList.LoadImage(path + "\Allianz\" + pack + "\K.png")

buttons_raw = ImageList.LoadImage(path + "\Allianz\" + pack + "\buttons.png")

controll_bar_raw = ImageList.LoadImage(path + "\Allianz\" + pack + "\controll_bar.png")

info_bar_raw = ImageList.LoadImage(path + "\Allianz\" + pack + "\info_bar.png")

menuepotion_raw = ImageList.LoadImage(path + "\Allianz\" + pack + "\menue.png")

menuebg_bgin_raw = ImageList.LoadImage(path + "\Allianz\" + pack + "\menuebg.png")

moveoverlay_raw = ImageList.LoadImage(path + "\Allianz\" + pack + "\move_overlay.png")

pause_menue_raw = ImageList.LoadImage(path + "\Allianz\" + pack + "\pause.png")

pause_button_raw = ImageList.LoadImage(path + "\Allianz\" + pack + "\pause_button.png")

potions_raw = ImageList.LoadImage(path + "\Allianz\" + pack + "\potions.png")

select_blue_raw = ImageList.LoadImage(path + "\Allianz\" + pack + "\select_blue.png")

select_gold_raw = ImageList.LoadImage(path + "\Allianz\" + pack + "\select_gold.png")

select_green_raw = ImageList.LoadImage(path + "\Allianz\" + pack + "\select_green.png")

select_red_raw = ImageList.LoadImage(path + "\Allianz\" + pack + "\select_red.png")

active1_raw = ImageList.LoadImage(path + "\Allianz\" + pack + "\1_active.png")

active2_raw = ImageList.LoadImage(path + "\Allianz\" + pack + "\2_active.png")

attack_overlay_raw = ImageList.LoadImage(path + "\Allianz\" + pack + "\attack_overlay.png")

mainbut1_false_raw = ImageList.LoadImage(path + "\Allianz\" + pack + "\menue_button_false.png")

mainbut1_true_raw = ImageList.LoadImage(path + "\Allianz\" + pack + "\menue_button_true.png")

mainbut2_false_raw = ImageList.LoadImage(path + "\Allianz\" + pack + "\menue_button_false.png")

mainbut2_true_raw = ImageList.LoadImage(path + "\Allianz\" + pack + "\menue_button_true.png")

mainbut3_false_raw = ImageList.LoadImage(path + "\Allianz\" + pack + "\menue_button_false.png")

mainbut3_true_raw = ImageList.LoadImage(path + "\Allianz\" + pack + "\menue_button_true.png")

mainbut4_false_raw = ImageList.LoadImage(path + "\Allianz\" + pack + "\menue_button_false.png")

mainbut4_true_raw = ImageList.LoadImage(path + "\Allianz\" + pack + "\menue_button_true.png")

map_raw = ImageList.LoadImage(path + "\Allianz\" + pack + "\map.png")

box_raw = ImageList.LoadImage(path + "\Allianz\" + pack + "\box.png") 

checkbox_false_raw = ImageList.LoadImage(path + "\Allianz\" + pack + "\checkbox_false.png") 

checkbox_true_raw = ImageList.LoadImage(path + "\Allianz\" + pack + "\checkbox_true.png") 

viniette_raw = ImageList.LoadImage(path + "\Allianz\" + pack + "\attack_screen_overlay.png")

player_attack_raw = ImageList.LoadImage(path + "\Allianz\" + pack + "\player_attack.png")

pointer_raw = ImageList.LoadImage(path + "\Allianz\" + pack + "\pointer.png")

If op_consset = "console=true" Then

TextWindow.Write(".")

EndIf

men_bg = Shapes.AddImage(men_bg_raw)

men_bgin = Shapes.AddImage(men_bgin_raw)

W1 = Shapes.AddImage(W1_raw)

D1 = Shapes.AddImage(D1_raw)

K1 = Shapes.AddImage(K1_raw)

W2 = Shapes.AddImage(W2_raw)

D2 = Shapes.AddImage(D2_raw)

K2 = Shapes.AddImage(K2_raw)

pause_menue = Shapes.AddImage(pause_menue_raw)

buttons = Shapes.AddImage(buttons_raw)

controll_bar = Shapes.AddImage(controll_bar_raw)

info_bar = Shapes.AddImage(info_bar_raw)

menuepotion = Shapes.AddImage(menuepotion_raw)

menuebg_bgin = Shapes.AddImage(menuebg_bgin_raw)

moveoverlay = Shapes.AddImage(moveoverlay_raw)

pause_button = Shapes.AddImage(pause_button_raw)

potions = Shapes.AddImage(potions_raw)

select_blue = Shapes.AddImage(select_blue_raw)

select_gold = Shapes.AddImage(select_gold_raw)

select_red = Shapes.AddImage(select_red_raw)

select_green = Shapes.AddImage(select_green_raw)

active1 = Shapes.AddImage(active1_raw)

active2 = Shapes.AddImage(active2_raw)

mainbut1_false = Shapes.AddImage(mainbut1_false_raw)

mainbut1_true = Shapes.AddImage(mainbut1_true_raw)

mainbut2_false = Shapes.AddImage(mainbut2_false_raw)

mainbut2_true = Shapes.AddImage(mainbut2_true_raw)

mainbut3_false = Shapes.AddImage(mainbut3_false_raw)

mainbut3_true = Shapes.AddImage(mainbut3_true_raw)

mainbut4_false = Shapes.AddImage(mainbut4_false_raw)

mainbut4_true = Shapes.AddImage(mainbut4_true_raw)

map = Shapes.AddImage(map_raw)

box = Shapes.AddImage(box_raw)

attack_overlay = Shapes.AddImage(attack_overlay_raw)

viniette = Shapes.AddImage(viniette_raw)

player_attack = Shapes.AddImage(player_attack_raw)

pointer = Shapes.AddImage(pointer_raw)



If op_consset = "console=true" Then

TextWindow.Write(".")

EndIf

Shapes.Move(men_bg,5000,5000)

Shapes.Move(men_bgin,5000,5000)

Shapes.Move(buttons,5000,5000)

Shapes.Move(controll_bar,5000,5000)

Shapes.Move(info_bar,5000,5000)

Shapes.Move(menuepotion,5000,5000)

Shapes.Move(menuebg_bgin,5000,5000)

Shapes.Move(moveoverlay,5000,5000)

Shapes.Move(pause_menue,5000,5000)

Shapes.Move(pause_button,5000,5000)

Shapes.Move(potions,5000,5000)

Shapes.Move(select_blue,5000,5000)

Shapes.Move(select_gold,5000,5000)

Shapes.Move(select_red,5000,5000)

Shapes.Move(select_green,5000,5000)

Shapes.Move(mainbut1_false,5000,5000)

Shapes.Move(mainbut1_true,5000,5000)

Shapes.Move(mainbut2_false,5000,5000)

Shapes.Move(mainbut2_true,5000,5000)

Shapes.Move(mainbut3_false,5000,5000)

Shapes.Move(mainbut3_true,5000,5000)

Shapes.Move(mainbut4_false,5000,5000)

Shapes.Move(mainbut4_true,5000,5000)

Shapes.Move(map,5000,5000)

Shapes.Move(box,5000,5000)

Shapes.Move(W1,5000,5000)

Shapes.Move(D1,5000,5000)

Shapes.Move(K1,5000,5000)

Shapes.Move(W2,5000,5000)

Shapes.Move(D2,5000,5000)

Shapes.Move(K2,5000,5000)

Shapes.Move(active1,5000,5000)

Shapes.Move(active2,5000,5000)

Shapes.Move(attack_overlay,5000,5000)

Shapes.Move(viniette,5000,5000)

Shapes.Move(player_attack,5000,5000)

If op_consset = "console=true" Then

TextWindow.Clear()

TextWindow.WriteLine("Starting Up...")

TextWindow.WriteLine("Found Textures: " + path + "\Allianz\" + pack)

TextWindow.WriteLine("Texture-loading Complete!")

TextWindow.Write("Loading Speach")

EndIf

' The following line could be harmful and has been automatically commented.

' sp_hauptmen = File.ReadLine(path + "\Allianz\lang\" + region + "_language.lang",1)

' The following line could be harmful and has been automatically commented.

' sp_sgplayer = File.ReadLine(path + "\Allianz\lang\" + region + "_language.lang",2)

' The following line could be harmful and has been automatically commented.

' sp_mlplayer = File.ReadLine(path + "\Allianz\lang\" + region + "_language.lang",3)

' The following line could be harmful and has been automatically commented.

' sp_mission = File.ReadLine(path + "\Allianz\lang\" + region + "_language.lang",4)

' The following line could be harmful and has been automatically commented.

' sp_ja = File.ReadLine(path + "\Allianz\lang\" + region + "_language.lang",5)

' The following line could be harmful and has been automatically commented.

' sp_nein = File.ReadLine(path + "\Allianz\lang\" + region + "_language.lang",6)

' The following line could be harmful and has been automatically commented.

' sp_gamefound = File.ReadLine(path + "\Allianz\lang\" + region + "_language.lang",7)

' The following line could be harmful and has been automatically commented.

' sp_gamefoundmsg = File.ReadLine(path + "\Allianz\lang\" + region + "_language.lang",8)

' The following line could be harmful and has been automatically commented.

' sp_newgame = File.ReadLine(path + "\Allianz\lang\" + region + "_language.lang",9)

' The following line could be harmful and has been automatically commented.

' sp_newgamemsg = File.ReadLine(path + "\Allianz\lang\" + region + "_language.lang",10)

If op_consset = "console=true" Then

TextWindow.Write(".")

endif

' The following line could be harmful and has been automatically commented.

' sp_newgame_leben = File.ReadLine(path + "\Allianz\lang\" + region + "_language.lang",11)

' The following line could be harmful and has been automatically commented.

' sp_newgame_zzauber = File.ReadLine(path + "\Allianz\lang\" + region + "_language.lang",12)

' The following line could be harmful and has been automatically commented.

' sp_normalzauber = File.ReadLine(path + "\Allianz\lang\" + region + "_language.lang",13)

' The following line could be harmful and has been automatically commented.

' sp_newgame_scwirigkeit = File.ReadLine(path + "\Allianz\lang\" + region + "_language.lang",14)

' The following line could be harmful and has been automatically commented.

' sp_easy = File.ReadLine(path + "\Allianz\lang\" + region + "_language.lang",15)

' The following line could be harmful and has been automatically commented.

' sp_medium = File.ReadLine(path + "\Allianz\lang\" + region + "_language.lang",16)

' The following line could be harmful and has been automatically commented.

' sp_hard = File.ReadLine(path + "\Allianz\lang\" + region + "_language.lang",17)

' The following line could be harmful and has been automatically commented.

' sp_options = File.ReadLine(path + "\Allianz\lang\" + region + "_language.lang",18)

' The following line could be harmful and has been automatically commented.

' sp_konig  = File.ReadLine(path + "\Allianz\lang\" + region + "_language.lang",19)

' The following line could be harmful and has been automatically commented.

' sp_dame = File.ReadLine(path + "\Allianz\lang\" + region + "_language.lang",20)

If op_consset = "console=true" Then

TextWindow.Write(".")

endif

' The following line could be harmful and has been automatically commented.

' sp_bube = File.ReadLine(path + "\Allianz\lang\" + region + "_language.lang",21)

' The following line could be harmful and has been automatically commented.

' sp_karteleben = File.ReadLine(path + "\Allianz\lang\" + region + "_language.lang",22)

' The following line could be harmful and has been automatically commented.

' sp_funcerror = File.ReadLine(path + "\Allianz\lang\" + region + "_language.lang",23)

' The following line could be harmful and has been automatically commented.

' sp_error_cantdo = File.ReadLine(path + "\Allianz\lang\" + region + "_language.lang",24)

' The following line could be harmful and has been automatically commented.

' sp_attack_true = File.ReadLine(path + "\Allianz\lang\" + region + "_language.lang",25)

' The following line could be harmful and has been automatically commented.

' sp_attack_false = File.ReadLine(path + "\Allianz\lang\" + region + "_language.lang",26)

' The following line could be harmful and has been automatically commented.

' sp_attack_power = File.ReadLine(path + "\Allianz\lang\" + region + "_language.lang",27)

' The following line could be harmful and has been automatically commented.

' sp_playerattack = File.ReadLine(path + "\Allianz\lang\" + region + "_language.lang",28)

' The following line could be harmful and has been automatically commented.

' sp_zurück = File.ReadLine(path + "\Allianz\lang\" + region + "_language.lang",30)

' The following line could be harmful and has been automatically commented.

' sp_an = File.ReadLine(path + "\Allianz\lang\" + region + "_language.lang",31)

' The following line could be harmful and has been automatically commented.

' sp_aus = File.ReadLine(path + "\Allianz\lang\" + region + "_language.lang",32)

If op_consset = "console=true" Then

TextWindow.Write(".")

endif

' The following line could be harmful and has been automatically commented.

' sp_errorallgemein = File.ReadLine(path + "\Allianz\lang\" + region + "_language.lang",34)

' The following line could be harmful and has been automatically commented.

' sp_errorso = File.ReadLine(path + "\Allianz\lang\" + region + "_language.lang",33)

' The following line could be harmful and has been automatically commented.

' sp_weiter = File.ReadLine(path + "\Allianz\lang\" + region + "_language.lang",29)

' The following line could be harmful and has been automatically commented.

' sp_lan = File.ReadLine(path + "\Allianz\lang\" + region + "_language.lang",35)

' The following line could be harmful and has been automatically commented.

' sp_twoplayer = File.ReadLine(path + "\Allianz\lang\" + region + "_language.lang",36)

' The following line could be harmful and has been automatically commented.

' sp_end = File.ReadLine(path + "\Allianz\lang\" + region + "_language.lang",37)

' The following line could be harmful and has been automatically commented.

' sp_music = File.ReadLine(path + "\Allianz\lang\" + region + "_language.lang",38)

' The following line could be harmful and has been automatically commented.

' sp_fx = File.ReadLine(path + "\Allianz\lang\" + region + "_language.lang",39)

' The following line could be harmful and has been automatically commented.

' sp_liveserror = File.ReadLine(path + "\Allianz\lang\" + region + "_language.lang",40)

' The following line could be harmful and has been automatically commented.

' sp_lang1 = File.ReadLine(path + "\Allianz\lang\" + region + "_language.lang",41)

' The following line could be harmful and has been automatically commented.

' sp_lang2 = File.ReadLine(path + "\Allianz\lang\" + region + "_language.lang",42)

' The following line could be harmful and has been automatically commented.

' sp_pack = File.ReadLine(path + "\Allianz\lang\" + region + "_language.lang",43)

' The following line could be harmful and has been automatically commented.

' sp_consaolopt = File.ReadLine(path + "\Allianz\lang\" + region + "_language.lang",44)

' The following line could be harmful and has been automatically commented.

' sp_pointer  = File.ReadLine(path + "\Allianz\lang\" + region + "_language.lang",45)

' The following line could be harmful and has been automatically commented.

' sp_packerror  = File.ReadLine(path + "\Allianz\lang\" + region + "_language.lang",46)

' The following line could be harmful and has been automatically commented.

' sp_autosave  = File.ReadLine(path + "\Allianz\lang\" + region + "_language.lang",47)

' The following line could be harmful and has been automatically commented.

' sp_player1win  = File.ReadLine(path + "\Allianz\lang\" + region + "_language.lang",48)

' The following line could be harmful and has been automatically commented.

' sp_player2win = File.ReadLine(path + "\Allianz\lang\" + region + "_language.lang",49)

' The following line could be harmful and has been automatically commented.

' cl_color1 = File.ReadLine(path + "\Allianz\textures\colors.tex",1)

' The following line could be harmful and has been automatically commented.

' cl_color2 = File.ReadLine(path + "\Allianz\textures\colors.tex",2)

' The following line could be harmful and has been automatically commented.

' cl_font = File.ReadLine(path + "\Allianz\textures\colors.tex",3)

If op_consset = "console=true" Then

TextWindow.Clear()

TextWindow.WriteLine("Starting Up...")

TextWindow.WriteLine("Found Textures: " + path + "\Allianz\" + pack)

TextWindow.WriteLine("Texture-loading Complete!")

TextWindow.WriteLine("Language-loading Complete!")

endif

'events

GraphicsWindow.MouseDown = click

Timer.Interval = 10

Timer.Tick = maus

'fenster einstellungen

GraphicsWindow.BackgroundColor = "black"

GraphicsWindow.CanResize = "False"

GraphicsWindow.Height = 690

GraphicsWindow.Width = 1190



'int

path = Program.Directory

status = "main"



'set options

' The following line could be harmful and has been automatically commented.

' op_music = File.ReadLine(path + "\Allianz\data\options.allianz",1)

' The following line could be harmful and has been automatically commented.

' op_fx = File.ReadLine(path + "\Allianz\data\options.allianz",2)



'go

GraphicsWindow.DrawImage(men_bg,0,0)

If op_consset = "console=true" Then

  TextWindow.WriteLine("Preparing Main-Menu...")

endif

hauptmenue()



Sub hauptmenue

  

  clear()

  GraphicsWindow.FontName = cl_font

  main_loop1 = Clock.ElapsedMilliseconds

  'If op_music = "music=true" Then

  '  Sound.Play(path + "\Allianz\sound\main.wav")

  'EndIf

  status = "main"

  GraphicsWindow.Title = "Allianz - ver. 0.3.9 Alpha"

  GraphicsWindow.Show()

  TextWindow.Hide()

  Shapes.Move(men_bg,0,0)

  GraphicsWindow.BrushColor = cl_color1

  GraphicsWindow.FontSize = 42

  

  hauptext = Shapes.AddText(sp_hauptmen)

  Shapes.Move(hauptext,900,10)

  GraphicsWindow.FontSize = 22

  tx_sgplay = Shapes.AddText(sp_sgplayer)

  Shapes.Move(tx_sgplay,20,400)

  tx_mlplay = Shapes.AddText(sp_mlplayer)

  Shapes.Move(tx_mlplay,20,470)

  tx_misions = Shapes.AddText(sp_mission)

  Shapes.Move(tx_misions,20,540)

  tx_options = Shapes.AddText(sp_options)

  Shapes.Move(tx_options,20,610)

  Shapes.Move(mainbut1_false,0,390)

  Shapes.Move(mainbut2_false,0,460)

  Shapes.Move(mainbut3_false,0,530)

  Shapes.Move(mainbut4_false,0,600)

  

  mainwhile = "true"

  

  While mainwhile = "true"

    

    x = GraphicsWindow.MouseX

    y = GraphicsWindow.MouseY

    

    'singelplayer button move

    

    If x > 0 And x < 360 And y < 440 And y > 390 Then

      If xsel <> "sgpl" Then

        Shapes.Move(mainbut1_false,5000,5000)

        Shapes.Move(mainbut1_true,-70,390)

        Shapes.Animate(mainbut1_true,0,390,200)

        If op_fx = "fx=true" Then

          Sound.Stop(path + "\Allianz\sound\button1.wav")

          Sound.Play(path + "\Allianz\sound\button1.wav")

        EndIf

      EndIf

    

    xsel = "sgpl"

    

    Else

      

      Shapes.Move(mainbut1_false,0,390)

      Shapes.Move(mainbut1_true,5000,5000)

      If xsel = "sgpl" Then

        xsel = ""

      EndIf

    

    EndIf

    

    'multyplayer button move

    

    If x > 0 And x < 360 And y < 510 And y > 460 Then

      If xsel <> "mlpl" Then

        Shapes.Move(mainbut2_false,5000,5000)

        Shapes.Move(mainbut2_true,-70,460)

        Shapes.Animate(mainbut2_true,0,460,200)

        If op_fx = "fx=true" Then

          Sound.Stop(path + "\Allianz\sound\button1.wav")

          Sound.Play(path + "\Allianz\sound\button1.wav")

        EndIf

      EndIf

    

    xsel = "mlpl"

    

    Else

      

      Shapes.Move(mainbut2_false,0,460)

      Shapes.Move(mainbut2_true,5000,5000)

      If xsel = "mlpl" Then

        xsel = ""

      EndIf

    

    EndIf

    

    'missionen_button move

    If x > 0 And x < 360 And y < 580 And y > 530 Then

      If xsel <> "mis" Then

        Shapes.Move(mainbut3_false,5000,5000)

        Shapes.Move(mainbut3_true,-70,530)

        Shapes.Animate(mainbut3_true,0,530,200)

        If op_fx = "fx=true" Then

          Sound.Stop(path + "\Allianz\sound\button1.wav")

          Sound.Play(path + "\Allianz\sound\button1.wav")

        EndIf

      EndIf

    

    xsel = "mis"

    

    Else

      

      Shapes.Move(mainbut3_false,0,530)

      Shapes.Move(mainbut3_true,5000,5000)

      If xsel = "mis" Then

        xsel = ""

      EndIf

    

  EndIf

  

  'options button move

  

  If x > 0 And x < 360 And y < 650 And y > 600 Then

      If xsel <> "opt" Then

        Shapes.Move(mainbut4_false,5000,5000)

        Shapes.Move(mainbut4_true,-70,600)

        Shapes.Animate(mainbut4_true,0,600,200)

        If op_fx = "fx=true" Then

          Sound.Stop(path + "\Allianz\sound\button1.wav")

          Sound.Play(path + "\Allianz\sound\button1.wav")

        EndIf

      EndIf

    

    xsel = "opt"

    

    Else

      

      Shapes.Move(mainbut4_false,0,600)

      Shapes.Move(mainbut4_true,5000,5000)

      If xsel = "opt" Then

        xsel = ""

      EndIf

    

    EndIf

    

    main_loop2 = Clock.ElapsedMilliseconds

    If main_loop2 - main_loop1 > 153000 And op_music = "music=true" Then

      main_loop1 = Clock.ElapsedMilliseconds

      Sound.Stop(path + "\Allianz\sound\button1.wav")

      Sound.Play(path + "\Allianz\sound\main.wav")

    EndIf

    

    

    Program.Delay(10)

    If mainwhile <> "true" Then

      mencls()

    EndIf

    

  EndWhile

  

EndSub







Sub clear

  

  mainwhile = "false"

  Shapes.Move(men_bg,5000,5000)

  Shapes.Move(men_bgin,5000,5000)

  Shapes.Move(buttons,5000,5000)

  Shapes.Move(controll_bar,5000,5000)

  Shapes.Move(info_bar,5000,5000)

  Shapes.Move(menuepotion,5000,5000)

  Shapes.Move(menuebg_bgin,5000,5000)

  Shapes.Move(moveoverlay,5000,5000)

  Shapes.Move(pause_menue,5000,5000)

  Shapes.Move(pause_button,5000,5000)

  Shapes.Move(potions,5000,5000)

  Shapes.Move(select_blue,5000,5000)

  Shapes.Move(select_gold,5000,5000)

  Shapes.Move(select_red,5000,5000)

  Shapes.Move(select_green,5000,5000)

  Shapes.Move(mainbut1_false,5000,5000)

  Shapes.Move(mainbut1_true,5000,5000)

  Shapes.Move(mainbut2_false,5000,5000)

  Shapes.Move(mainbut2_true,5000,5000)

  Shapes.Move(mainbut3_false,5000,5000)

  Shapes.Move(mainbut3_true,5000,5000)

  Shapes.Move(mainbut4_false,5000,5000)

  Shapes.Move(mainbut4_true,5000,5000)

  Shapes.Move(map,5000,5000)

  Shapes.Move(W1,5000,5000)

  Shapes.Move(D1,5000,5000)

  Shapes.Move(K1,5000,5000)

  Shapes.Move(W2,5000,5000)

  Shapes.Move(D2,5000,5000)

  Shapes.Move(K2,5000,5000)

  Shapes.Move(active1,5000,5000)

  Shapes.Move(active2,5000,5000)

  Shapes.Move(box,5000,5000)

  Shapes.Move(attack_overlay,5000,5000)

  Shapes.Move(player_attack,5000,5000)

  Shapes.Remove(hauptext)

  Shapes.Remove(tx_misions)

  Shapes.Remove(tx_mlplay)

  Shapes.Remove(tx_options)

  Shapes.Remove(tx_sgplay)

  Shapes.Remove(tx_backm)

  Shapes.Remove(tx_weiterm)

  Shapes.Remove(tx_backmlm)

  Shapes.Remove(tx_motus)

  Shapes.Remove(tx_create)

  Shapes.Remove(tx_end)

  Shapes.Remove(tx_errop)

  Shapes.Remove(tx_mpstats)

  Shapes.Remove(tx_mplives)

  Shapes.Remove(tx_opmusic)

  Shapes.Remove(tx_opfx)

  Shapes.Remove(tx_pack)

  Shapes.Remove(tx_lang1)

  Shapes.Remove(tx_lang2)

  Shapes.Remove(cn_lives)

  Shapes.Remove(tx_opconsset)

  Shapes.Remove(cb_music)

  Shapes.Remove(cb_fx)

  Shapes.Remove(cb_consset)

  Shapes.Remove(cb_lang1)

  Shapes.Remove(cb_lang2)

  Shapes.Remove(cb_pointer)

  Shapes.Remove(cb_autosave)

  Shapes.Remove(tx_pointer)

  Shapes.Remove(tx_autosave)

  Shapes.Remove(tx_win)



EndSub



Sub mencls

  

  Shapes.Move(mainbut1_false,5000,5000)

  Shapes.Move(mainbut1_true,5000,5000)

  Shapes.Move(mainbut2_false,5000,5000)

  Shapes.Move(mainbut2_true,5000,5000)

  Shapes.Move(mainbut3_false,5000,5000)

  Shapes.Move(mainbut3_true,5000,5000)

  Shapes.Move(mainbut4_false,5000,5000)

  Shapes.Move(mainbut4_true,5000,5000)

  

EndSub



Sub missionen

  

  clear()

  If op_fx = "fx=true" Then

    Sound.Stop(path + "\Allianz\sound\button2.wav")

    Sound.Play(path + "\Allianz\sound\button2.wav")

  EndIf

  Shapes.Move(map,0,0)

  tx_backm = Shapes.AddText(sp_zurück)

  Shapes.Move(tx_backm,20,15)

  status = "mision_map"

  GraphicsWindow.FontSize = 12

  tx_errop = Shapes.AddText(sp_funcerror)

  Shapes.Move(tx_errop,850,670)

  

EndSub



Sub singelplayer

  

  clear()

  If op_fx = "fx=true" Then

    Sound.Stop(path + "\Allianz\sound\button2.wav")

    Sound.Play(path + "\Allianz\sound\button2.wav")

  EndIf

  GraphicsWindow.ShowMessage("Code: 0x00001","Error!")

  hauptmenue()

  

EndSub



Sub multyplayer

  

  status = "multyplayer_menü"

  clear()

  If op_fx = "fx=true" Then

    Sound.Stop(path + "\Allianz\sound\button2.wav")

    Sound.Play(path + "\Allianz\sound\button2.wav")

  EndIf

  GraphicsWindow.FontSize = 38

  Shapes.Move(men_bg,0,0)

  Shapes.Move(menuebg_bgin,0,0)

  tx_create = Shapes.AddText(sp_newgame)

  Shapes.Move(tx_create,130,100)

  GraphicsWindow.FontSize = 22

  tx_backmlm = Shapes.AddText(sp_zurück)

  Shapes.Move(tx_backmlm,125,608)

  tx_weiterm = Shapes.AddText(sp_weiter)

  Shapes.Move(tx_weiterm,1000,608)

  motus = "comp"

  GraphicsWindow.FontSize = 38

  tx_motus = Shapes.AddText(sp_twoplayer)

  Shapes.Move(tx_motus,500,300)

  'Shapes.Move(box,490,290)

  newgame = "false"

  mencls()

  

EndSub



Sub mpset

  

  clear()

  GraphicsWindow.FontSize = 38

  tx_create = Shapes.AddText(sp_newgamemsg)

  Shapes.Move(tx_create,130,100)

  GraphicsWindow.FontSize = 22

  status = "multyplayer_menü2"

  Shapes.Move(men_bg,0,0)

  Shapes.Move(menuebg_bgin,0,0)

  tx_backmlm = Shapes.AddText(sp_zurück)

  Shapes.Move(tx_backmlm,125,608)

  tx_weiterm = Shapes.AddText(sp_weiter)

  Shapes.Move(tx_weiterm,1000,608)

  tx_motus = Shapes.AddText(sp_karteleben)

  Shapes.Move(tx_motus,130,200)

  GraphicsWindow.BrushColor = "black"

  cn_lives = Controls.AddTextBox(230,195)

  Controls.SetTextBoxText(cn_lives,3)

  GraphicsWindow.BrushColor = "white"

  GraphicsWindow.FontSize = 38

  

EndSub



'--------------------------------------------------Multyplayer ING-----------------------------------------------------------

Sub multyplayer_ing

  

  clear()

  status = "none"

  Shapes.Move(men_bgin,0,0)

  Shapes.Move(pause_button,1200,-100)

  Shapes.Move(info_bar,300,-100)

  Shapes.Move(controll_bar,0,800)

  Shapes.Move(W1,-200,-200)

  Shapes.Move(D1,-200,-200)

  Shapes.Move(K1,-200,-200)

  Shapes.Move(W2,1400,-200)

  Shapes.Move(D2,1400,-200)

  Shapes.Move(K2,1400,-200)

  Shapes.Move(active1,300,-100)

  Shapes.Rotate(D1,0)

  Shapes.Rotate(K1,0)

  Shapes.Rotate(W1,0)

  Shapes.Rotate(D2,0)

  Shapes.Rotate(K2,0)

  Shapes.Rotate(W2,0)

  

  Shapes.Animate(pause_button,1090,0,500)

  Shapes.Animate(info_bar,300,0,500)

  Shapes.Animate(controll_bar,0,610,500)

  Shapes.Animate(active1,300,0,500)

  Shapes.Animate(K1,15,9,1000)

  Shapes.Animate(D1,15,214,1000)

  Shapes.Animate(W1,15,419,1000)

  Shapes.Animate(K2,1043,9,1000)

  Shapes.Animate(D2,1043,214,1000)

  Shapes.Animate(W2,1043,419,1000)

  turn = 1

  livesK1 = 2

  livesD1 = 1

  livesW1 = 1

  livesD2 = 1

  livesW2 = 1

  livesK2 = 2

  posK1 = "burg"

  posD1 = "burg"

  posW1 = "burg"

  posK2 = "burg"

  posD2 = "burg"

  posW2 = "burg"

  attackedK1 = "false"

  attackedD1 = "false"

  attackedW1 = "false"

  attackedK2 = "false"

  attackedD2 = "false"

  attackedW2 = "false"

  livesPlayer1 = tbt

  livesPlayer2 = tbt

  status = "multyplayer_ing"

  moved = "false"

  canattack = "false"

  canmove = "false"

  length = 1

  GraphicsWindow.BrushColor = cl_color2

  GraphicsWindow.FontSize = 24

  tx_mplives = Shapes.AddText(livesPlayer1 + ":" + livesPlayer2)

  Shapes.Move(tx_mplives,550,-100)

  Shapes.Animate(tx_mplives,550,5,500)

  If op_autosave = "autosave=true" Then

    save()

  EndIf

  

EndSub





Sub options

  

  If op_fx = "fx=true" Then

    Sound.Stop(path + "\Allianz\sound\button2.wav")

    Sound.Play(path + "\Allianz\sound\button2.wav")

  EndIf

  status = "options"

  GraphicsWindow.FontSize = 38

  clear()

  Shapes.Move(men_bg,0,0)

  Shapes.Move(menuebg_bgin,0,0)

  tx_options = Shapes.AddText(sp_options)

  Shapes.Move(tx_options,130,100)

  GraphicsWindow.FontSize = 22

  tx_backm = Shapes.AddText(sp_zurück)

  Shapes.Move(tx_backm,125,608)

  tx_end = Shapes.AddText(sp_end)

  Shapes.Move(tx_end,1000,608)

  tx_opmusic = Shapes.AddText(sp_music)

  Shapes.Move(tx_opmusic,130,200)

  tx_opfx = Shapes.AddText(sp_fx)

  Shapes.Move(tx_opfx,130,260)

  tx_lang1 = Shapes.AddText(sp_lang1)

  Shapes.Move(tx_lang1,130,320)

  tx_lang2 = Shapes.AddText(sp_lang2)

  Shapes.Move(tx_lang2,130,380)

  tx_pack = Shapes.AddText(sp_pack)

  Shapes.Move(tx_pack,130,440)

  tx_pointer = Shapes.AddText(sp_pointer)

  Shapes.Move(tx_pointer,500,260)

  tx_autosave = Shapes.AddText(sp_autosave)

  Shapes.Move(tx_autosave,500,320)

  GraphicsWindow.BrushColor = "black"

  GraphicsWindow.FontBold = "False"

  cn_lives = Controls.AddTextBox(200,435)

  Controls.SetTextBoxText(cn_lives,pack)

  GraphicsWindow.FontBold = "true"

  GraphicsWindow.BrushColor = cl_color1

  tx_opconsset = Shapes.AddText(sp_consaolopt)

  Shapes.Move(tx_opconsset,500,200)

' The following line could be harmful and has been automatically commented.

'   op_music = File.ReadLine(path + "\Allianz\data\options.allianz",1)

' The following line could be harmful and has been automatically commented.

'   op_fx = File.ReadLine(path + "\Allianz\data\options.allianz",2)

' The following line could be harmful and has been automatically commented.

'   op_consset = File.ReadLine(path + "\Allianz\data\options.allianz",3)

' The following line could be harmful and has been automatically commented.

'   op_lang = File.ReadLine(path + "\Allianz\data\options.allianz",4)

' The following line could be harmful and has been automatically commented.

'   op_pointer = File.ReadLine(path + "\Allianz\data\options.allianz",5)

' The following line could be harmful and has been automatically commented.

'   pack = File.ReadLine(path + "\Allianz\data\options.allianz",6)

' The following line could be harmful and has been automatically commented.

'   op_autosave = File.ReadLine(path + "\Allianz\data\options.allianz",7)

  

  If op_music = "music=true" Then

    cb_music = Shapes.AddImage(checkbox_true_raw)

    Shapes.Move(cb_music,250,185)

  Else

    Shapes.Remove(cb_music)

    cb_music = Shapes.AddImage(checkbox_false_raw)

    Shapes.Move(cb_music,250,185)

  EndIf

  

  If op_fx = "fx=true" Then

    cb_fx = Shapes.AddImage(checkbox_true_raw)

    Shapes.Move(cb_fx,250,245)

  Else

    Shapes.Remove(cb_fx)

    cb_fx = Shapes.AddImage(checkbox_false_raw)

    Shapes.Move(cb_fx,250,245)

  EndIf

  

  If op_lang = "de" Then

    cb_lang1 = Shapes.AddImage(checkbox_true_raw)

    Shapes.Move(cb_lang1,250,305)

  Else

    Shapes.Remove(cb_lang1)

    cb_lang1 = Shapes.AddImage(checkbox_false_raw)

    Shapes.Move(cb_lang1,250,305)

  EndIf

  

  If op_lang = "en" Then

    cb_lang2 = Shapes.AddImage(checkbox_true_raw)

    Shapes.Move(cb_lang2,250,365)

  Else

    Shapes.Remove(cb_lang2)

    cb_lang2 = Shapes.AddImage(checkbox_false_raw)

    Shapes.Move(cb_lang2,250,365)

  EndIf

  

  If op_consset = "console=true" Then

    cb_consset = Shapes.AddImage(checkbox_true_raw)

    Shapes.Move(cb_consset,700,185)

  Else

    cb_consset = Shapes.AddImage(checkbox_false_raw)

    Shapes.Move(cb_consset,700,185)

  EndIf

  

  If op_pointer = "pointer=true" Then

    cb_pointer = Shapes.AddImage(checkbox_true_raw)

    Shapes.Move(cb_pointer,700,245)

  Else

    cb_pointer = Shapes.AddImage(checkbox_false_raw)

    Shapes.Move(cb_pointer,700,245)

  EndIf

  

  If op_autosave = "autosave=true" Then

    cb_autosave = Shapes.AddImage(checkbox_true_raw)

    Shapes.Move(cb_autosave,700,305)

  Else

    cb_autosave = Shapes.AddImage(checkbox_false_raw)

    Shapes.Move(cb_autosave,700,305)

  EndIf

  

EndSub



Sub click

  

  x = GraphicsWindow.MouseX

  y = GraphicsWindow.MouseY

  

  If status = "win" Then

    hauptmenue()

  EndIf

  

  If status = "options" Then

    

    If x > 115 And x < 214 And y > 601 And y < 640 Then

      hauptmenue()

    EndIf

    

    If x > 990 And x < 1089 And y > 601 And y < 640 Then

      Program.End()

    EndIf

    

    If x > 250 And x < 299 And y > 185 And y < 238 Then

      If op_music = "music=true" Then

' The following line could be harmful and has been automatically commented.

'         File.WriteLine(path + "\Allianz\data\options.allianz",1,"music=false")

      Else

' The following line could be harmful and has been automatically commented.

'         File.WriteLine(path + "\Allianz\data\options.allianz",1,"music=true")

      EndIf

      options()

    EndIf

    

    If x > 250 And x < 299 And y > 245 And y < 298 Then

      If op_fx = "fx=true" Then

' The following line could be harmful and has been automatically commented.

'         File.WriteLine(path + "\Allianz\data\options.allianz",2,"fx=false")

      Else

' The following line could be harmful and has been automatically commented.

'         File.WriteLine(path + "\Allianz\data\options.allianz",2,"fx=true")

      EndIf

      options()

    EndIf

    

    If x > 250 And x < 299 And y > 305 And y < 358 Then

      If op_lang = "en" Then

' The following line could be harmful and has been automatically commented.

'         File.WriteLine(path + "\Allianz\data\options.allianz",4,"de")

        options()

      EndIf

    EndIf

    

    If x > 250 And x < 299 And y > 365 And y < 418 Then

      If op_lang = "de" Then

' The following line could be harmful and has been automatically commented.

'         File.WriteLine(path + "\Allianz\data\options.allianz",4,"en")

        options()

      EndIf

    EndIf

    

    If x > 700 And x < 749 And y > 185 And y < 238 Then

      If op_consset = "console=true" Then

' The following line could be harmful and has been automatically commented.

'         File.WriteLine(path + "\Allianz\data\options.allianz",3,"console=false")

      Else

' The following line could be harmful and has been automatically commented.

'         File.WriteLine(path + "\Allianz\data\options.allianz",3,"console=true")

      EndIf

      options()

    EndIf

    

    If x > 700 And x < 749 And y > 245 And y < 298 Then

      If op_pointer = "pointer=true" Then

' The following line could be harmful and has been automatically commented.

'         File.WriteLine(path + "\Allianz\data\options.allianz",5,"pointer=false")

' The following line could be harmful and has been automatically commented.

'         op_pointer = File.ReadLine(path + "\Allianz\data\options.allianz",5)

      Else

' The following line could be harmful and has been automatically commented.

'         File.WriteLine(path + "\Allianz\data\options.allianz",5,"pointer=true")

      EndIf

      options()

    EndIf

    

    If x > 700 And x < 749 And y > 305 And y < 358 Then

      If op_autosave = "autosave=true" Then

' The following line could be harmful and has been automatically commented.

'         File.WriteLine(path + "\Allianz\data\options.allianz",7,"autosave=false")

      Else

' The following line could be harmful and has been automatically commented.

'         File.WriteLine(path + "\Allianz\data\options.allianz",7,"autosave=true")

      EndIf

      options()

    EndIf

    

    tst_pack = Controls.GetTextBoxText(cn_lives)

' The following line could be harmful and has been automatically commented.

'     new_pack = File.ReadLine(path + "\Allianz\" + tst_pack + "\colors.tex",1)

    If new_pack = "" Then

      GraphicsWindow.ShowMessage(sp_packerror,sp_errorso)

    Else

' The following line could be harmful and has been automatically commented.

'       File.WriteLine(path + "\Allianz\data\options.allianz",6,tst_pack)

    EndIf

    

    

  EndIf  

  

  If status = "main" Then

    

    If x > 0 And x < 430 And y < 580 And y > 530 Then

      mainwhile = "false"

      missionen()

    EndIf

    

    If x > 0 And x < 360 And y < 440 And y > 390 Then

      mainwhile = "false"

      singelplayer()

    EndIf

    

    If x > 0 And x < 360 And y < 510 And y > 460 Then

       mainwhile = "false"

      multyplayer()

    EndIf

    

    If x > 0 And x < 360 And y < 650 And y > 600 Then

      mainwhile = "false"

      options()

    EndIf

    

  EndIf

  

  If status = "mision_map" Then

    If x > 0 And x < 156 And y > 0 And y < 54 Then

      hauptmenue()

    EndIf

  EndIf

  

   If status = "multyplayer_menü2" Then

    If x > 115 And x < 214 And y > 601 And y < 640 Then

      multyplayer()

    EndIf

    

    If x > 990 And x < 1089 And y > 601 And y < 640 Then

      tbt = Controls.GetTextBoxText(cn_lives)

      tbz = tbt

      tbz = tbz + 1

      tbz = tbz - 1

      If tbt = tbz And tbt < 21 Then

        multyplayer_ing()

      Else

        GraphicsWindow.ShowMessage(sp_liveserror,sp_errorso)

        mpset()

      EndIf

    EndIf

    

  EndIf

  

  If status = "multyplayer_menü" Then

    If x > 115 And x < 214 And y > 601 And y < 640 Then

      hauptmenue()

    EndIf

    

    If x > 500 And x < 700 And y > 300 And y <  350 Then

      GraphicsWindow.FontSize = 38

      If motus = "comp" Then

        Shapes.Remove(tx_motus)

        tx_motus = Shapes.AddText(sp_lan)

        Shapes.Move(tx_motus,500,300)

        motus = "lan"

      Else

        Shapes.Remove(tx_motus)

        tx_motus = Shapes.AddText(sp_twoplayer)

        Shapes.Move(tx_motus,500,300)

        motus = "comp"

      EndIf

    EndIf

    

    If x > 990 And x < 1089 And y > 601 And y < 640 Then

      If motus = "lan" Then

        GraphicsWindow.ShowMessage("Code: 0x00001","Error!")

        hauptmenue()

      Else

        mpset()

      EndIf 

    EndIf   

  EndIf

  

  If status = "multyplayer_ing" Then

    

    cardselect()

    

    If x > 1137 And x < 1192 And y > 6 And y < 61 Then

      status = "pause_menue"

      Shapes.Move(pause_menue,0,-1000)

      Shapes.Animate(pause_menue,0,0,500)

    EndIf

    

    mpcontroll()

    

    'GraphicsWindow.ShowMessage("x: " + x + ", y: " + y,"You Clicked")

    

  EndIf

  

  If status = "pause_menue" Then

    If x > 977 And x < 1013 And y > 130 And y < 166 Then

      Shapes.Animate(pause_menue,0,-1000,500)

      status = "multyplayer_ing"

    EndIf

    

     If x > 240 And x < 527 And y > 245 And y < 297 Then

      status = "main"

' The following line could be harmful and has been automatically commented.

'       File.DeleteFile(path + "\Allianz\data\games\active_game.ali")

      hauptmenue()

    EndIf

  EndIf

  

  If status = "attackmp" Then

    If x > 1137 And x < 1192 And y > 6 And y < 61 Then

      tx_msg = Shapes.AddText("")

      entattack()

    EndIf

    

    If x > 445 And x < 755 And y > 257 And y < 375 And canplayerattack = "true" Then

      random = Math.GetRandomNumber(2)

        If random = 1 Then

          If turn = 1 Then

            GraphicsWindow.FontSize = 24

            livesPlayer2 = livesPlayer2 - 1

            Shapes.Remove(tx_mplives)

            tx_mplives = Shapes.AddText(livesPlayer1 + ":" + livesPlayer2)

            Shapes.Move(tx_mplives,550,5)

          Else

            livesPlayer1 = livesPlayer1 - 1

            GraphicsWindow.FontSize = 24

            Shapes.Remove(tx_mplives)

            tx_mplives = Shapes.AddText(livesPlayer1 + ":" + livesPlayer2)

            Shapes.Move(tx_mplives,550,5)

          EndIf

          GraphicsWindow.FontSize = 24

          GraphicsWindow.BrushColor = cl_color1

          tx_msg = Shapes.AddText(sp_attack_true)

          Shapes.Move(tx_msg,430,200)

          entattack()

        Else

          GraphicsWindow.FontSize = 24

          GraphicsWindow.BrushColor = cl_color1

          tx_msg = Shapes.AddText(sp_attack_false)

          Shapes.Move(tx_msg,430,200)

          entattack()

        EndIf

    EndIf

    

    If turn = 1 Then

      'attack k1

      If x > 807 And x < 1006 And y > 96 And y < 235 And posK2 = "feld" Then

        random = Math.GetRandomNumber(2)

        If random = 1 Then

          livesK2 = livesK2 - 1

          GraphicsWindow.FontSize = 24

          GraphicsWindow.BrushColor = cl_color1

          tx_msg = Shapes.AddText(sp_attack_true)

          Shapes.Move(tx_msg,430,200)

          entattack()

        Else

          GraphicsWindow.FontSize = 24

          GraphicsWindow.BrushColor = cl_color1

          tx_msg = Shapes.AddText(sp_attack_false)

          Shapes.Move(tx_msg,430,200)

          entattack()

        EndIf

      EndIf

      

      If x > 807 And x < 1006 And y > 241 And y < 380 And posD2 = "feld" Then

        random = Math.GetRandomNumber(2)

        If random = 1 Then

          livesD2 = livesD2 - 1

          GraphicsWindow.FontSize = 24

          GraphicsWindow.BrushColor = cl_color1

          tx_msg = Shapes.AddText(sp_attack_true)

          Shapes.Move(tx_msg,430,200)

          entattack()

        Else

          GraphicsWindow.FontSize = 24

          GraphicsWindow.BrushColor = cl_color1

          tx_msg = Shapes.AddText(sp_attack_false)

          Shapes.Move(tx_msg,430,200)

          entattack()

        EndIf

      EndIf

      

       If x > 807 And x < 1006 And y > 386 And y < 525 And posW2 = "feld" Then

        random = Math.GetRandomNumber(2)

        If random = 1 Then

          livesW2 = livesW2 - 1

          GraphicsWindow.FontSize = 24

          GraphicsWindow.BrushColor = cl_color1

          tx_msg = Shapes.AddText(sp_attack_true)

          Shapes.Move(tx_msg,430,200)

          entattack()

        Else

          GraphicsWindow.FontSize = 24

          GraphicsWindow.BrushColor = cl_color1

          tx_msg = Shapes.AddText(sp_attack_false)

          Shapes.Move(tx_msg,430,200)

          entattack()

        EndIf

      EndIf

    EndIf

    

    

    'TURN 2 !!!!!!!!!!!!!!

    If turn = 2 Then

      'attack k1

      If x > 191 And x < 390 And y > 96 And y < 235 And posK1 = "feld" Then

        random = Math.GetRandomNumber(2)

        If random = 1 Then

          livesK1 = livesK1 - 1

          GraphicsWindow.FontSize = 24

          GraphicsWindow.BrushColor = cl_color1

          tx_msg = Shapes.AddText(sp_attack_true)

          Shapes.Move(tx_msg,430,200)

          entattack()

        Else

          GraphicsWindow.FontSize = 24

          GraphicsWindow.BrushColor = cl_color1

          tx_msg = Shapes.AddText(sp_attack_false)

          Shapes.Move(tx_msg,430,200)

          entattack()

        EndIf

      EndIf

      

      If x > 191 And x < 390 And y > 241 And y < 380 And posD1 = "feld" Then

        random = Math.GetRandomNumber(2)

        If random = 1 Then

          livesD1 = livesD1 - 1

          GraphicsWindow.FontSize = 24

          GraphicsWindow.BrushColor = cl_color1

          tx_msg = Shapes.AddText(sp_attack_true)

          Shapes.Move(tx_msg,430,200)

          entattack()

        Else

          GraphicsWindow.FontSize = 24

          GraphicsWindow.BrushColor = cl_color1

          tx_msg = Shapes.AddText(sp_attack_false)

          Shapes.Move(tx_msg,430,200)

          entattack()

        EndIf

      EndIf

      

       If x > 191 And x < 390 And y > 386 And y < 525 And posW1 = "feld" Then

        random = Math.GetRandomNumber(2)

        If random = 1 Then

          livesW1 = livesW1 - 1

          GraphicsWindow.FontSize = 24

          GraphicsWindow.BrushColor = cl_color1

          tx_msg = Shapes.AddText(sp_attack_true)

          Shapes.Move(tx_msg,430,200)

          entattack()

        Else

          GraphicsWindow.FontSize = 24

          GraphicsWindow.BrushColor = cl_color1

          tx_msg = Shapes.AddText(sp_attack_false)

          Shapes.Move(tx_msg,430,200)

          entattack()

        EndIf

      EndIf

    EndIf    

  EndIf

  

  

EndSub



Sub mpcontroll

  

  If newgame = "false" Then

    newgame = "true"

    Goto ende

  EndIf

  

  If op_autosave = "autosave=true" Then

    save()

  EndIf

  'visualisirung buttons turn 1 & var set

  

  If turn = 1 Then

    If mpselect = "W2" Or mpselect = "D2" Or mpselect = "K2" Then

      Shapes.Move(attack_overlay,302,629)

      Shapes.Move(moveoverlay,25,629)

      canattack = "false"

      canmove = "false"

    EndIf    

    

    If mpselect = "W1" Then

      If posW1 = "burg" Then

        Shapes.Move(attack_overlay,302,629)

        canattack = "false"

        If moved = "false" Then

          Shapes.Move(moveoverlay,5000,5000)

          canmove = "true"

        Else

          Shapes.Move(moveoverlay,25,629)

          canmove = "false"

        EndIf

      Else

        Shapes.Move(attack_overlay,5000,5000)

        canattack = "true"

        If attackedW1 <> "false" Then

          Shapes.Move(attack_overlay,302,629)

          canattack = "false"

        EndIf

        If moved = "true" Then

          Shapes.Move(moveoverlay,25,629)

          canmove = "false"

        Else

          Shapes.Move(moveoverlay,5000,5000)

          canmove = "true"

        EndIf

      EndIf

      If livesW1 < 1 Then

        canmove = "false"

        Shapes.Move(moveoverlay,25,629)

      EndIf

    EndIf

    

    If mpselect = "K1" Then

      If posK1 = "burg" Then

        Shapes.Move(attack_overlay,302,629)

        canattack = "false"

        If moved = "false" Then

          Shapes.Move(moveoverlay,5000,5000)

          canmove = "true"

        Else

          Shapes.Move(moveoverlay,25,629)

          canmove = "false"

        EndIf

      Else

        Shapes.Move(attack_overlay,5000,5000)

        canattack = "true"

        If attackedK1 <> "false" Then

          Shapes.Move(attack_overlay,302,629)

          canattack = "false"

        EndIf

        If moved = "true" Then

          Shapes.Move(moveoverlay,25,629)

          canmove = "false"

        Else

          Shapes.Move(moveoverlay,5000,5000)

          canmove = "true"

        EndIf

      EndIf

      If livesK1 < 1 Then

        canmove = "false"

        Shapes.Move(moveoverlay,25,629)

      EndIf

    EndIf

    

    If mpselect = "D1" Then

      If posD1 = "burg" Then

        Shapes.Move(attack_overlay,302,629)

        canattack = "false"

        If moved = "false" Then

          Shapes.Move(moveoverlay,5000,5000)

          canmove = "true"

        Else

          Shapes.Move(moveoverlay,25,629)

          canmove = "false"

        EndIf

      Else

        Shapes.Move(attack_overlay,5000,5000)

        canattack = "true"

        If attackedD1 <> "false" Then

          Shapes.Move(attack_overlay,302,629)

          canattack = "false"

        EndIf

        If moved = "true" Then

          Shapes.Move(moveoverlay,25,629)

          canmove = "false"

        Else

          Shapes.Move(moveoverlay,5000,5000)

          canmove = "true"

        EndIf

      EndIf

    EndIf

    If livesD1 < 1 Then

        canmove = "false"

        Shapes.Move(moveoverlay,25,629)

      EndIf

  EndIf

  

  'visualisierung buttons turn 2

  

  If turn = 2 Then

    If mpselect = "W1" Or mpselect = "D1" Or mpselect = "K1" Then

      Shapes.Move(attack_overlay,302,629)

      Shapes.Move(moveoverlay,25,629)

      canattack = "false"

      canmove = "false"

    EndIf    

    

    If mpselect = "W2" Then

      If posW2 = "burg" Then

        Shapes.Move(attack_overlay,302,629)

        canattack = "false"

        If moved = "false" Then

          Shapes.Move(moveoverlay,5000,5000)

          canmove = "true"

        Else

          Shapes.Move(moveoverlay,25,629)

          canmove = "false"

        EndIf

      Else

        Shapes.Move(attack_overlay,5000,5000)

        canattack = "true"

        If attackedW2 <> "false" Then

          Shapes.Move(attack_overlay,302,629)

          canattack = "false"

        EndIf

        If moved = "true" Then

          Shapes.Move(moveoverlay,25,629)

          canmove = "false"

        Else

          Shapes.Move(moveoverlay,5000,5000)

          canmove = "true"

        EndIf

      EndIf

      If livesW2 < 1 Then

        canmove = "false"

        Shapes.Move(moveoverlay,25,629)

      EndIf

    EndIf

    

    If mpselect = "K2" Then

      If posK2 = "burg" Then

        Shapes.Move(attack_overlay,302,629)

        canattack = "false"

        If moved = "false" Then

          Shapes.Move(moveoverlay,5000,5000)

          canmove = "true"

        Else

          Shapes.Move(moveoverlay,25,629)

          canmove = "false"

        EndIf

      Else

        Shapes.Move(attack_overlay,5000,5000)

        canattack = "true"

        If attackedK2 <> "false" Then

          Shapes.Move(attack_overlay,302,629)

          canattack = "false"

        EndIf

        If moved = "true" Then

          Shapes.Move(moveoverlay,25,629)

          canmove = "false"

        Else

          Shapes.Move(moveoverlay,5000,5000)

          canmove = "true"

        EndIf

      EndIf

      If livesK2 < 1 Then

        canmove = "false"

        Shapes.Move(moveoverlay,25,629)

      EndIf

    EndIf

    

    If mpselect = "D2" Then

      If posD2 = "burg" Then

        Shapes.Move(attack_overlay,302,629)

        canattack = "false"

        If moved = "false" Then

          Shapes.Move(moveoverlay,5000,5000)

          canmove = "true"

        Else

          Shapes.Move(moveoverlay,25,629)

          canmove = "false"

        EndIf

      Else

        Shapes.Move(attack_overlay,5000,5000)

        canattack = "true"

        If attackedD2 <> "false" Then

          Shapes.Move(attack_overlay,302,629)

          canattack = "false"

        EndIf

        If moved = "true" Then

          Shapes.Move(moveoverlay,25,629)

          canmove = "false"

        Else

          Shapes.Move(moveoverlay,5000,5000)

          canmove = "true"

        EndIf

      EndIf

      If livesD2 < 1 Then

        canmove = "false"

        Shapes.Move(moveoverlay,25,629)

      EndIf

    EndIf        

  EndIf

  

  

  'buttons reset while no card is selected.

  If mpselect = "none" Then

    Shapes.Move(attack_overlay,5000,5000)

    Shapes.Move(moveoverlay,5000,5000)

  EndIf

  

  'showing stats of each card while it's selected!

  GraphicsWindow.BrushColor = cl_color2

  GraphicsWindow.FontSize = 16

  If mpselect = "W1" Then

    Shapes.Remove(tx_mpstats)

    tx_mpstats = Shapes.AddText(sp_bube + " - " + sp_karteleben + " " + livesW1)

    Shapes.Move(tx_mpstats,500,35)

  EndIf

  

  If mpselect = "D1" Then

    Shapes.Remove(tx_mpstats)

    tx_mpstats = Shapes.AddText(sp_dame + " - " + sp_karteleben + " " + livesD1)

    Shapes.Move(tx_mpstats,500,35)

  EndIf

  

  If mpselect = "K1" Then

    Shapes.Remove(tx_mpstats)

    tx_mpstats = Shapes.AddText(sp_konig + " - " + sp_karteleben + " " + livesK1)

    Shapes.Move(tx_mpstats,500,35)

  EndIf

  

  If mpselect = "W2" Then

    Shapes.Remove(tx_mpstats)

    tx_mpstats = Shapes.AddText(sp_bube + " - " + sp_karteleben + " " + livesW2)

    Shapes.Move(tx_mpstats,500,35)

  EndIf

  

  If mpselect = "D2" Then

    Shapes.Remove(tx_mpstats)

    tx_mpstats = Shapes.AddText(sp_dame + " - " + sp_karteleben + " " + livesD2)

    Shapes.Move(tx_mpstats,500,35)

  EndIf

  

  If mpselect = "K2" Then

    Shapes.Remove(tx_mpstats)

    tx_mpstats = Shapes.AddText(sp_konig + " - " + sp_karteleben + " " + livesK2)

    Shapes.Move(tx_mpstats,500,35)

  EndIf

  

  If mpselect = "none" Then

    Shapes.Remove(tx_mpstats)

  EndIf

  

  If x > 24 And x < 298 And y > 627 And y < 681 Then

    

    'GraphicsWindow.ShowMessage(canmove + ", " + mpselect,"")

    

    If mpselect = "K1" And canmove = "true" Then

      If posK1 = "burg" Then

        moved = "true"

        posK1 = "feld"

        Shapes.Animate(k1,220,65,900)

        Shapes.Rotate(k1,90)

        mpselect = "none"

        Shapes.Move(select_blue,5000,5000)

        Shapes.Move(select_red,5000,5000)

        Shapes.Remove(tx_mpstats)

      EndIf

            

      If posK1 = "feld" And moved = "false" Then

        moved = "true"

        posK1 = "burg"

        Shapes.Animate(k1,15,9,900)

        Shapes.Rotate(k1,0)

        mpselect = "none"

        Shapes.Move(select_blue,5000,5000)

        Shapes.Move(select_red,5000,5000)

        Shapes.Remove(tx_mpstats)

      EndIf

    EndIf

    'player 1 Dame

    If mpselect = "D1" And canmove = "true" Then

      If posD1 = "burg" Then

        moved = "true"

        posD1 = "feld"

        Shapes.Animate(D1,220,210,900)

        Shapes.Rotate(D1,90)

        mpselect = "none"

        Shapes.Move(select_blue,5000,5000)

        Shapes.Move(select_red,5000,5000)

        Shapes.Remove(tx_mpstats)

      EndIf

      

      If posD1 = "feld" And moved = "false" Then

        moved = "true"

        posD1 = "burg"

        Shapes.Animate(D1,15,214,900)

        Shapes.Rotate(D1,0)

        mpselect = "none"

        Shapes.Move(select_blue,5000,5000)

        Shapes.Move(select_red,5000,5000)

        Shapes.Remove(tx_mpstats)

      EndIf

    EndIf

    'player 1 Bube

    If mpselect = "W1" And canmove = "true" Then

      If posW1 = "burg" Then

        moved = "true"

        posW1 = "feld"

        Shapes.Animate(W1,220,355,900)

        Shapes.Rotate(W1,90)

        mpselect = "none"

        Shapes.Move(select_blue,5000,5000)

        Shapes.Move(select_red,5000,5000)

        Shapes.Remove(tx_mpstats)

      EndIf

      

      If posW1 = "feld" And moved = "false" Then

        moved = "true"

        posW1 = "burg"

        Shapes.Animate(W1,15,419,900)

        Shapes.Rotate(W1,0)

        mpselect = "none"

        Shapes.Move(select_blue,5000,5000)

        Shapes.Move(select_red,5000,5000)

        Shapes.Remove(tx_mpstats)

      EndIf

    EndIf

    'player2 King

    If mpselect = "K2" And canmove = "true" Then

      If posK2 = "burg" Then

        moved = "true"

        posK2 = "feld"

        Shapes.Animate(K2,836,65,900)

        Shapes.Rotate(K2,90)

        mpselect = "none"

        Shapes.Move(select_blue,5000,5000)

        Shapes.Move(select_red,5000,5000)

        Shapes.Remove(tx_mpstats)

      EndIf

      

      If posK2 = "feld" And moved = "false" Then

        moved = "true"

        posK2 = "burg"

        Shapes.Animate(K2,1043,9,900)

        Shapes.Rotate(K2,0)

        mpselect = "none"

        Shapes.Move(select_blue,5000,5000)

        Shapes.Move(select_red,5000,5000)

        Shapes.Remove(tx_mpstats)

      EndIf

    EndIf

    'player 2 Dame

    If mpselect = "D2" And canmove = "true" Then

      If posD2 = "burg" Then

        moved = "true"

        posD2 = "feld"

        Shapes.Animate(D2,836,210,900)

        Shapes.Rotate(D2,90)

        mpselect = "none"

        Shapes.Move(select_blue,5000,5000)

        Shapes.Move(select_red,5000,5000)

        Shapes.Remove(tx_mpstats)

      EndIf

      

      If posD2 = "feld" And moved = "false" Then

        moved = "true"

        posD2 = "burg"

        Shapes.Animate(D2,1043,214,900)

        Shapes.Rotate(D2,0)

        mpselect = "none"

        Shapes.Move(select_blue,5000,5000)

        Shapes.Move(select_red,5000,5000)

        Shapes.Remove(tx_mpstats)

      EndIf

    EndIf

    'player 2Bube

    If mpselect = "W2" And canmove = "true" Then

      If posW2 = "burg" Then

        moved = "true"

        posW2 = "feld"

        Shapes.Animate(W2,836,355,900)

        Shapes.Rotate(W2,90)

        mpselect = "none"

        Shapes.Move(select_blue,5000,5000)

        Shapes.Move(select_red,5000,5000)

        Shapes.Remove(tx_mpstats)

      EndIf

      

      If posW2 = "feld" And moved = "false" Then

        moved = "true"

        posW2 = "burg"

        Shapes.Animate(W2,1043,419,900)

        Shapes.Rotate(W2,0)

        mpselect = "none"

        Shapes.Move(select_blue,5000,5000)

        Shapes.Move(select_red,5000,5000)

        Shapes.Remove(tx_mpstats)

      EndIf

    EndIf

    

    'weitere möglichkeiten einfügen(...)

    

  EndIf

  

  If x > 302 And x < 625 And y > 627 And y < 681 Then

    If canattack = "true" And mpselect <> "none" Then

      attackmp()

    EndIf

  EndIf

  

  

  'GraphicsWindow.ShowMessage(length,"")

  

  'If length < 3 Then

  '  canattack = "false"

'      GraphicsWindow.ShowMessage("blocked!","")

  '  Shapes.Move(attack_overlay,5000,5000)

  'EndIf

  

  If livesK1 < 1 And posK1 = "feld" Then

    Shapes.Animate(k1,15,9,900)

    Shapes.Rotate(K1,0)

    posK1 = "burg"

    livesK1 = -2

  EndIf

  

  If livesD1 < 1 And posD1 = "feld" Then

    Shapes.Animate(D1,15,214,900)

    Shapes.Rotate(D1,0)

    posD1 = "burg"

    livesD1 = 1

  EndIf

  

  If livesW1 < 1 And posW1 = "feld" Then

    Shapes.Animate(W1,15,419,900)

    Shapes.Rotate(W1,0)

    posW1 = "burg"

    livesW1 = -2

  EndIf

  

  If livesK2 < 1 And posK2 = "feld" Then

    Shapes.Animate(K2,1043,9,900)

    Shapes.Rotate(K2,0)

    posK2 = "burg"

    livesK2 = -2

  EndIf

  

  If livesD2 < 1 And posD2 = "feld" Then

    Shapes.Animate(D2,1043,214,900)

    Shapes.Rotate(D2,0)

    posD2 = "burg"

    livesD2 = 1

  EndIf

  

  If livesW2 < 1 And posW2 = "feld" Then

    Shapes.Animate(W2,1043,419,900)

    Shapes.Rotate(W2,0)

    posW2 = "burg"

    livesW2 = -2

  EndIf

  

  If livesPlayer1 = 0 Then

    Shapes.Animate(W1,-200,-200,1000)

    Shapes.Animate(D1,-200,-200,1000)

    Shapes.Animate(K1,-200,-200,1000)

    Shapes.Animate(W2,1400,-200,1000)

    Shapes.Animate(D2,1400,-200,1000)

    Shapes.Animate(K2,1400,-200,1000)

    Shapes.Animate(pause_button,1200,-100,1000)

    Shapes.Animate(info_bar,300,-100,1000)

    Shapes.Animate(tx_mplives,550,-100,1000)

    Shapes.Animate(controll_bar,0,800,1000)

    Shapes.Move(attack_overlay,5000,5000)

    Shapes.Move(moveoverlay,5000,5000)

    Shapes.Move(active1,5000,5000)

    Shapes.Move(active2,5000,5000)

    Shapes.Move(select_blue,5000,5000)

    Shapes.Remove(tx_mpstats)

    GraphicsWindow.BrushColor = cl_color1

    GraphicsWindow.FontSize = 60

    tx_win = Shapes.AddText(sp_player2win)

    Shapes.Move(tx_win,300,300)

    status = "win"

  EndIf

  

  If livesPlayer2 = 0 Then

    Shapes.Animate(W1,-200,-200,1000)

    Shapes.Animate(D1,-200,-200,1000)

    Shapes.Animate(K1,-200,-200,1000)

    Shapes.Animate(W2,1400,-200,1000)

    Shapes.Animate(D2,1400,-200,1000)

    Shapes.Animate(K2,1400,-200,1000)

    Shapes.Animate(pause_button,1200,-100,1000)

    Shapes.Animate(info_bar,300,-100,1000)

    Shapes.Animate(tx_mplives,550,-100,1000)

    Shapes.Animate(controll_bar,0,800,1000)

    Shapes.Move(attack_overlay,5000,5000)

    Shapes.Move(moveoverlay,5000,5000)

    Shapes.Move(active1,5000,5000)

    Shapes.Move(active2,5000,5000)

    Shapes.Move(select_blue,5000,5000)

    Shapes.Remove(tx_mpstats)

    GraphicsWindow.BrushColor = cl_color1

    GraphicsWindow.FontSize = 60

    tx_win = Shapes.AddText(sp_player1win)

    Shapes.Move(tx_win,300,300)

    status = "win"

  EndIf

  

  ende:

  

EndSub



Sub cardselect

  

  If turn = 1 Then

      If x > 15 And x < 154 And y > 9 And y < 208 And posK1 = "burg" Then

        Shapes.Move(select_blue,11,4)

        Shapes.Move(select_red,5000,5000)

        Shapes.Rotate(select_blue,0)

        Shapes.Rotate(select_red,0)

        mpselect = "K1"

      EndIf

      

      If x > 15 And x < 154 And y > 214 And y < 413 And posD1 = "burg" Then

        Shapes.Move(select_blue,11,210)

        Shapes.Move(select_red,5000,5000)

        Shapes.Rotate(select_blue,0)

        Shapes.Rotate(select_red,0)

        mpselect = "D1"

      EndIf

    

      If x > 15 And x < 154 And y > 419 And y < 618 And posW1 = "burg" Then

        Shapes.Move(select_blue,11,415)

        Shapes.Move(select_red,5000,5000)

        Shapes.Rotate(select_blue,0)

        Shapes.Rotate(select_red,0)

        mpselect = "W1"

      EndIf

      

       If x > 1043 And x < 1182 And y > 9 And y < 208 And posK2 = "burg" Then

         Shapes.Move(select_red,1039,4)

         Shapes.Move(select_blue,5000,5000)

         Shapes.Rotate(select_blue,0)

        Shapes.Rotate(select_red,0)

         mpselect = "K2"

      EndIf

      

      If x > 1043 And x < 1182 And y > 214 And y < 413 And posD2 = "burg" Then

        Shapes.Move(select_red,1039,210)

        Shapes.Move(select_blue,5000,5000)

        Shapes.Rotate(select_blue,0)

        Shapes.Rotate(select_red,0)

        mpselect = "D2"

      EndIf

      

      If x > 1043 And x < 1182 And y > 419 And y < 618 And posW2 = "burg" Then

        Shapes.Move(select_red,1039,415)

        Shapes.Move(select_blue,5000,5000)

        Shapes.Rotate(select_blue,0)

        Shapes.Rotate(select_red,0)

        mpselect = "W2"

      EndIf

      

      

      

      If x > 191 And x < 390 And y > 96 And y < 235 And posK1 = "feld" Then

        Shapes.Move(select_blue,216,61)

        Shapes.Move(select_red,5000,5000)

        Shapes.Rotate(select_blue,90)

        Shapes.Rotate(select_red,90)

        mpselect = "K1"

      EndIf

      

      If x > 191 And x < 390 And y > 241 And y < 380 And posD1 = "feld" Then

        Shapes.Move(select_blue,216,206)

        Shapes.Move(select_red,5000,5000)

        Shapes.Rotate(select_blue,90)

        Shapes.Rotate(select_red,90)

        mpselect = "D1"

      EndIf

      

      If x > 191 And x < 390 And y > 386 And y < 525 And posW1 = "feld" Then

        Shapes.Move(select_blue,216,351)

        Shapes.Move(select_red,5000,5000)

        Shapes.Rotate(select_blue,90)

        Shapes.Rotate(select_red,90)

        mpselect = "W1"

      EndIf

      

      If x > 807 And x < 1006 And y > 96 And y < 235 And posK2 = "feld" Then

        Shapes.Move(select_red,832,61)

        Shapes.Move(select_blue,5000,5000)

        Shapes.Rotate(select_blue,90)

        Shapes.Rotate(select_red,90)

        mpselect = "K2"

      EndIf

      

      If x > 807 And x < 1006 And y > 241 And y < 380 And posD2 = "feld" Then

        Shapes.Move(select_red,832,206)

        Shapes.Move(select_blue,5000,5000)

        Shapes.Rotate(select_blue,90)

        Shapes.Rotate(select_red,90)

        mpselect = "D2"

      EndIf

      

      If x > 807 And x < 1006 And y > 386 And y < 525 And posW2 = "feld" Then

        Shapes.Move(select_red,832,351)

        Shapes.Move(select_blue,5000,5000)

        Shapes.Rotate(select_blue,90)

        Shapes.Rotate(select_red,90)

        mpselect = "W2"

      EndIf

      

      If x > 785 And x < 861 And y > 0 And y < 50 Then

        turn = 2

        Shapes.Move(select_red,5000,5000)

        Shapes.Move(select_blue,5000,5000)

        Shapes.Move(active2,300,0)

        Shapes.Move(active1,5000,5000)

        moved = "false"

        mpselect = "none"

        length = length + 1

        attackedD1 = "false"

        attackedW1 = "false"

        attackedK1 = "false"

        attackedD2 = "false"

        attackedW2 = "false"

        attackedK2 = "false"

        wiederbeleben2()

      EndIf

    EndIf

    

    If turn = 2 Then

      If x > 1043 And x < 1182 And y > 9 And y < 208 And posK2 = "burg" Then

        Shapes.Move(select_blue,1039,4)

        Shapes.Move(select_red,5000,5000)

        Shapes.Rotate(select_blue,0)

        Shapes.Rotate(select_red,0)

        mpselect = "K2"

      EndIf

      

      If x > 1043 And x < 1182 And y > 214 And y < 413 And posD2 = "burg"  Then

        Shapes.Move(select_red,5000,5000)

        Shapes.Move(select_blue,1039,210)

        Shapes.Rotate(select_blue,0)

        Shapes.Rotate(select_red,0)

        mpselect = "D2"

      EndIf

      

      If x > 1043 And x < 1182 And y > 419 And y < 618 And posW2 = "burg"  Then

        Shapes.Move(select_blue,1039,415)

        Shapes.Move(select_red,5000,5000)

        Shapes.Rotate(select_blue,0)

        Shapes.Rotate(select_red,0)

        mpselect = "W2"

      EndIf

      

      If x > 15 And x < 154 And y > 9 And y < 208 And posK1 = "burg"  Then

        Shapes.Move(select_red,11,4)

        Shapes.Move(select_blue,5000,5000)

        Shapes.Rotate(select_blue,0)

        Shapes.Rotate(select_red,0)

        mpselect = "K1"

      EndIf

      

      If x > 15 And x < 154 And y > 214 And y < 413 And posD1 = "burg" Then

        Shapes.Move(select_red,11,210)

        Shapes.Move(select_blue,5000,5000)

        Shapes.Rotate(select_blue,0)

        Shapes.Rotate(select_red,0)

        mpselect = "D1"

      EndIf

    

      If x > 15 And x < 154 And y > 419 And y < 618 And posW1 = "burg" Then

        Shapes.Move(select_red,11,415)

        Shapes.Move(select_blue,5000,5000)

        Shapes.Rotate(select_blue,0)

        Shapes.Rotate(select_red,0)

        mpselect = "W1"

      EndIf

      

      

      

      If x > 191 And x < 390 And y > 96 And y < 235 And posK1 = "feld" Then

        Shapes.Move(select_red,216,61)

        Shapes.Move(select_blue,5000,5000)

        Shapes.Rotate(select_blue,90)

        Shapes.Rotate(select_red,90)

        mpselect = "K1"

      EndIf

      

      If x > 191 And x < 390 And y > 241 And y < 380 And posD1 = "feld" Then

        Shapes.Move(select_red,216,206)

        Shapes.Move(select_blue,5000,5000)

        Shapes.Rotate(select_blue,90)

        Shapes.Rotate(select_red,90)

        mpselect = "D1"

      EndIf

      

      If x > 191 And x < 390 And y > 386 And y < 525 And posW1 = "feld" Then

        Shapes.Move(select_red,216,351)

        Shapes.Move(select_blue,5000,5000)

        Shapes.Rotate(select_blue,90)

        Shapes.Rotate(select_red,90)

        mpselect = "W1"

      EndIf

      

      If x > 807 And x < 1006 And y > 96 And y < 235 And posK2 = "feld" Then

        Shapes.Move(select_blue,832,61)

        Shapes.Move(select_red,5000,5000)

        Shapes.Rotate(select_blue,90)

        Shapes.Rotate(select_red,90)

        mpselect = "K2"

      EndIf

      

      If x > 807 And x < 1006 And y > 241 And y < 380 And posD2 = "feld" Then

        Shapes.Move(select_blue,832,206)

        Shapes.Move(select_red,5000,5000)

        Shapes.Rotate(select_blue,90)

        Shapes.Rotate(select_red,90)

        mpselect = "D2"

      EndIf

      

      If x > 807 And x < 1006 And y > 386 And y < 525 And posW2 = "feld" Then

        Shapes.Move(select_blue,832,351)

        Shapes.Move(select_red,5000,5000)

        Shapes.Rotate(select_blue,90)

        Shapes.Rotate(select_red,90)

        mpselect = "W2"

      EndIf

      

      If x > 310 And x < 390 And y > 0 And y < 50 Then

        turn = 1

        Shapes.Move(select_red,5000,5000)

        Shapes.Move(select_blue,5000,5000)

        Shapes.Move(active1,300,0)

        Shapes.Move(active2,5000,5000)

        moved = "false"

        mpselect = "none"

        length = length + 1

        attackedD1 = "false"

        attackedW1 = "false"

        attackedK1 = "false"

        attackedD2 = "false"

        attackedW2 = "false"

        attackedK2 = "false"

        wiederbeleben1()

      EndIf

    EndIf

  

EndSub



Sub attackmp

  

  status = "attackmp"

  Shapes.Animate(pause_button,1200,-100,1000)

  Shapes.Animate(info_bar,300,-100,1000)

  Shapes.Animate(tx_mplives,550,-100,1000)

  Shapes.Animate(controll_bar,0,800,1000)

  Shapes.Move(attack_overlay,5000,5000)

  Shapes.Move(moveoverlay,5000,5000)

  Shapes.Move(active1,5000,5000)

  Shapes.Move(active2,5000,5000)

  Shapes.Move(select_blue,5000,5000)

  Shapes.Remove(tx_mpstats)

  Shapes.SetOpacity(viniette,0)

  Shapes.Move(viniette,0,0)

  For dk = 1 To 100

    dk = dk + 1

    Shapes.SetOpacity(viniette,dk)

    Program.Delay(10)

  EndFor

  

  

  If turn = 1 Then

    If mpselect = "D1" Then

      attackedD1 = "true"

    EndIf

    

    If mpselect = "K1" Then

      attackedK1 = "true"

    EndIf

    

    If mpselect = "W1" Then

      attackedW1 = "true"

    EndIf

    

    If posK2 = "burg" And posD2 = "burg" And posW2 = "burg" Then

      Shapes.Move(player_attack,0,0)

      canplayerattack = "true"

    Else

      canplayerattack = "false"

    EndIf

    

  EndIf

  

  If turn = 2 Then

    If mpselect = "D2" Then

      attackedD2 = "true"

    EndIf

    

    If mpselect = "K2" Then

      attackedK2 = "true"

    EndIf

    

    If mpselect = "W2" Then

      attackedW2 = "true"

    EndIf

    

    If posK1 = "burg" And posD1 = "burg" And posW1 = "burg" Then

      Shapes.Move(player_attack,0,0)

      canplayerattack = "true"

    Else

      canplayerattack = "false"

    EndIf

    

  EndIf

  

EndSub





Sub save

  

' The following line could be harmful and has been automatically commented.

'   File.WriteLine(path + "\Allianz\data\games\active_game.ali",1,"")

  

EndSub



Sub maus

  

  If op_pointer = "pointer=true" Then

    xm = GraphicsWindow.MouseX

    ym = GraphicsWindow.MouseY

    Mouse.HideCursor()

    Shapes.Move(pointer,xm,ym)

    If xm < 3 Or ym < 2 Then

      Shapes.Move(pointer,5000,5000)

    EndIf

  Else

    Mouse.ShowCursor()

    Shapes.Move(pointer,5000,5000)

  EndIf

EndSub



Sub entattack

  

  mpselect = "none"

  status = "multyplayer_ing"

  Shapes.Move(player_attack,5000,5000)

  Shapes.Move(viniette,5000,5000)

  Shapes.Animate(pause_button,1090,0,500)

  Shapes.Animate(info_bar,300,0,500)

  Shapes.Animate(controll_bar,0,610,500)

  Shapes.Animate(tx_mplives,550,5,500)

  If turn = 1 Then

    Shapes.Move(active1,300,-100)

    Shapes.Animate(active1,300,0,500)

  Else

    Shapes.Move(active2,300,-100)

    Shapes.Animate(active2,300,0,500)

  EndIf 

  dk = 100

  For i = 1 To 100

    dk = dk - 1

    Shapes.SetOpacity(tx_msg,dk)

    Program.Delay(10)

  EndFor

  Shapes.Remove(tx_msg)

  mpcontroll()

EndSub



Sub wiederbeleben1

  

  If livesK1 < 1 And posK1 = "burg" Then

    livesK1 = livesK1 + 1

  EndIf

  If livesK1 = 1 And posK1 = "burg" Then

    livesK1 = 2

  EndIf

  

  If livesD1 < 1 And posD1 = "burg" Then

    livesD1 = livesD1 + 1

  EndIf

  

  If livesW1 < 1 And posW1 = "burg" Then

    livesW1 = livesW1 + 1

  EndIf

  

EndSub



Sub wiederbeleben2

  

  If livesK2 < 1 And posK2 = "burg" Then

    livesK2 = livesK2 + 1

  EndIf

  If livesK2 = 1 And posK2 = "burg" Then

    livesK2 = 2

  EndIf

  

  If livesD2 < 1 And posD2 = "burg" Then

    livesD2 = livesD2 + 1

  EndIf

  

  If livesW2 < 1 And posW2 = "burg" Then

    livesW2 = livesW2 + 1

  EndIf

  

EndSub


