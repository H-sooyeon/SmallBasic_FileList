'*************

' * Variables *

'*************



room[1]["door"] = "0010"

room[1]["desc"] = " a dark room. Again. Annoyed? Live with it."



room[2]["door"] = "1110"

room[2]["desc"] = " the dark. Only this room is slightly darker. You are sad and lost."



room[3]["door"] = "1000"

room[3]["desc"] = " another room. This one isn't dark, but you are still struggling to see, because it is dark."



room[4]["door"] = "0110"

room[4]["desc"] = " a library. You think you are safe. You think you heard a loud noise coming from behind you. I think the dark is getting to you."



room[5]["door"] = "1111"

room[5]["desc"] =" a dark room. There is a faint glow in distance, but in which direction. Will you guess right? 'Dramatic music' "



room[6]["door"] = "1100"

room[6]["desc"] = " another dark room. This one looks lighter. Maybe your near the exit."



room[7]["door"] = "0011"

room[7]["desc"] = " Narnia... Not really. Your in another dark room."



room[8]["door"] = "1001"

room[8]["desc"] = " a wide, open space. It's still dark, but there is space. Where will you go next?



room[9]["door"] = "0001"

room[9]["desc"] = " a small square room. Have you had enough of the dark yet?"



room[10]["door"] = "0001"

room[10]["desc"] = "The game's final room. Congratulations, you have completed 'The Adventure'."



object[1]["name"] = "a large dusty book."

object[1]["info"] = "You stuggle to read it in the dark."

object[1]["location"] = Math.GetRandomNumber(9)



object[2]["name"] = "a map."

object[2]["info"] = " X marks the spot. "

object[2]["location"] = Math.GetRandomNumber(9)



object[3]["name"] = "a key!"

object[3]["info"] = " A golden wonderful key! "

object[3]["location"] = Math.GetRandomNumber(9)



object[4]["name"] = "an apple"

object[4]["info"] = " A ripe, tasty apple. "

object[4]["location"] = Math.GetRandomNumber(9)



object[5]["name"] = "a sword"

object[5]["info"] = "+ " + sword_damage + " extra damage!"

object[5]["location"] = Math.GetRandomNumber(9)

sword_damage = 3    'The amount of extra damage the sword will do.



race[1]["name"] = "Human"

race[1]["health"] = 100

race[1]["damage"] = 40





race[2]["name"] = "Dwarf"

race[2]["health"] = 75

race[2]["damage"] = 45



race[3]["name"] = "Elf"

race[3]["health"] = 100

race[3]["damage"] = 40



class[1]["name"] = "Warrior"

class[1]["ability"] = 1000

class[1]["abilityname"] = "Rage"



class[2]["name"] = "Mage"

class[2]["ability"] = 0100

class[2]["abilityname"] = "Firebolt"



class[3]["name"] = "Hunter"

class[3]["ability"] = 0010

class[3]["abilityname"] = "Tame"



class[4]["name"] = "God!"

class[4]["ability"] = 0001

class[4]["abilityname"] = "You are God! "



mob[1]["name"] = "zombie"

mob[1]["health"] = 10

mob[1]["damage"] = 3

mob[1]["special"] = "hit"

mob[1]["specialdamage"] = 3



mob[2]["name"] = "skeleton"

mob[2]["health"] = 10

mob[2]["damage"] = 4

mob[2]["special"] = "life arrow"

mob[2]["specialdamage"] = 5



mob[3]["name"] = "giraffe"

mob[3]["health"] = 8

mob[3]["damage"] = 2

mob[3]["special"] = "head-but" 

mob[3]["specialdamage"] = 15



mob[4]["name"] = "Bruce Banner"

mob[4]["health"] = 20

mob[4]["damage"] = 2

mob[4]["special"] = "turn green"

mob[4]["specialdamage"] = 19.5



playerhealth = race[raceno]["health"]

playerdamage = race[raceno]["damage"]



written_book = "false"

map = "false"

start_room = 5

position = start_room



TextWindow.Top = 50

TextWindow.Left = 50

TextWindow.Title = "The Adventure"

TextWindow.Clear()



TextWindow.Clear()

TextWindow.WriteLine("This is a text-based adventure game. Your objective is to escape. ")

TextWindow.WriteLine("There are 9 rooms arranged in a 3x3 grid. A number of objects scatter the map. ")

TextWindow.WriteLine("Try to collect as many objects as you can. Good Luck. ")

TextWindow.Pause()



TextWindow.Clear()

TextWindow.WriteLine("Enter your character name: ")

TextWindow.Write("> ")

TextWindow.ForegroundColor = "Red"

name = TextWindow.Read()

TextWindow.ForegroundColor = "White"

TextWindow.Pause()



TextWindow.Clear()

TextWindow.WriteLine("Would you like mobs to spawn? ")

TextWindow.Write("> ")

TextWindow.ForegroundColor = "Red"

mob_command = TextWindow.Read()

TextWindow.ForegroundColor = "white"

TextWindow.Pause()



TextWindow.Clear()

TextWindow.WriteLine("Would you like to enable cheats?")

TextWindow.Write("> ")

TextWindow.ForegroundColor = "Red"

cheatcommand = TextWindow.Read()

TextWindow.ForegroundColor = "white"

TextWindow.Pause()



If cheatcommand = "yes" or cheatcommand = "y" then

  allow_cheats = "true"

Endif



'***************'

'* Introduction *'

'***************'



TextWindow.ForegroundColor = "white"



TextWindow.Clear()

TextWindow.WriteLine("Hello " + name + ". Welcome to...")



TextWindow.WriteLine(" ____  _  _  ___     __   ___  _  _  ___  _  _  ____  _  _  ___   ___ ")

TextWindow.WriteLine("(_  _)( )( )(  _)   (  ) (   \( )( )(  _)( \( )(_  _)( )( )(  ,) (  _)")

TextWindow.WriteLine("  )(   )__(  ) _)   /__\  ) ) )\\//  ) _) )  (   )(   )()(  )  \  ) _)")

TextWindow.WriteLine(" (__) (_)(_)(___)  (_)(_)(___/ (__) (___)(_)\_) (__)  \__/ (_)\_)(___)")



TextWindow.WriteLine(" ")

TextWindow.WriteLine("-----------------------------------")

TextWindow.WriteLine(" ")



TextWindow.WriteLine("First things first, you will play through a tutorial.")

TextWindow.WriteLine("This is designed to fully test the skills needed to play this game (not many.)")



TextWindow.WriteLine(" ")

TextWindow.WriteLine("-----------------------------------")

TextWindow.WriteLine(" ")



TextWindow.WriteLine("Good luck " + name + ". See you at the finish line.")

TextWindow.WriteLine(" ")

TextWindow.Pause()



'***********'

'* Tutorial *'

'***********'



TextWindow.Clear()

TextWindow.WriteLine("Welcome to the tutorial. Here you will be shown the basics of this game.")

TextWindow.WriteLine("Lets begin.")



TextWindow.WriteLine(" ")

TextWindow.WriteLine("-----------------------------------")

TextWindow.WriteLine(" ")



TextWindow.WriteLine("Here you find yourself in a dark room. There is one exit to the north.")

TextWindow.WriteLine("Press 'n' to go north.")

TextWindow.Write("> ")

TextWindow.ForegroundColor = "Red"

command = TextWindow.Read()

TextWindow.ForegroundColor = "white"



if command = "n" Then

  

  TextWindow.WriteLine(" ")

  TextWindow.WriteLine("-----------------------------------")

  TextWindow.WriteLine(" ")

  

  

  TextWindow.WriteLine("Well done. You have completed the first part of the tutorial.")

  

ElseIf command = "skip" then

  TextWindow.Clear()

  Goto raceselection  

EndIf



TextWindow.Clear()



TextWindow.WriteLine("You are now in another room, identical to the last. Only in this room there is a key in the corner.")

TextWindow.WriteLine("Enter 'get key' to pick the key up.")

TextWindow.Write("> ")

TextWindow.ForegroundColor = "Red"

command = TextWindow.Read()

TextWindow.ForegroundColor = "white"



if command = "get key" Then

  

  TextWindow.WriteLine(" ")

  TextWindow.WriteLine("You have got the key. You have now completed the second part of the tutorial.")

  TextWindow.WriteLine("This is easy, right?")

EndIf



TextWindow.Pause()

TextWindow.Clear()



TextWindow.WriteLine("You are a natural. This is the third and final part of the tutorial.")

TextWindow.WriteLine(" ")

TextWindow.WriteLine("There are a few commands that will work anywhere in the game. The first command I will show you will open your current inventory.")

TextWindow.WriteLine("To do this, simply enter the command 'i'. Try it for yourself.")

TextWindow.Write("> ")

TextWindow.ForegroundColor = "Red"

command = TextWindow.Read()

TextWindow.ForegroundColor = "white"



If command = "i" Then

  

  TextWindow.Clear()

  

  TextWindow.WriteLine("In your inventory you currently have: ")

  TextWindow.WriteLine("        - A key")

  

EndIf



TextWindow.Pause()

TextWindow.Clear()



TextWindow.WriteLine("Congratulations. You have completed the tutorial. You are now ready to face 'The Adventure'.")

TextWindow.WriteLine("Good Luck out there, " + name + ".")

TextWindow.WriteLine("Use the key you picked up earlier to unlock the door to the real game. Enter the command 'start' to begin.")

TextWindow.Write("> ")

TextWindow.ForegroundColor = "Red"

command = TextWindow.Read()

TextWindow.ForegroundColor = "white"



If command = "start" then

  

  TextWindow.WriteLine("Here we go...")

  TextWindow.Pause()

  

Else

  

  TextWindow.WriteLine("I guess you're not ready yet. Come back later.")

  Program.Delay(2000)

  Program.End()

  

Endif



TextWindow.Clear()

TextWindow.WriteLine("Just before we begin...")

Program.Delay(2000)



raceselection:

TextWindow.WriteLine(" ")

TextWindow.WriteLine("Choose a race; ")

TextWindow.WriteLine(" ")

TextWindow.WriteLine("Available races are: ")

TextWindow.WriteLine(" ")

TextWindow.WriteLine("1) " + race[1]["name"] + ".")

TextWindow.WriteLine("      Health = " + race[1]["health"] + " | Damage = " + race[1]["damage"] )

TextWindow.WriteLine("2) " + race[2]["name"] + ".")

TextWindow.WriteLine("      Health = " + race[2]["health"] + "  | Damage = " + race[2]["damage"] )

TextWindow.WriteLine("3) " + race[3]["name"] + ".")

TextWindow.WriteLine("      Health = " + race[3]["health"] + " | Damage = " + race[3]["damage"] )

TextWindow.WriteLine(" ")

TextWindow.WriteLine("Enter race number to choose.")

raceno = TextWindow.ReadNumber()



If raceno < 4 then

  

  

  TextWindow.Clear()

  TextWindow.WriteLine("You have chosen " + race[raceno]["name"] + ".")

  TextWindow.WriteLine("You will not be able to change it after. Are you sure you want to be a " + race[raceno]["name"] + "? ")

  TextWindow.WriteLine("'yes/no' ")

  raceanswer = TextWindow.Read()

  

  If raceanswer = "yes" or raceanswer = "y" Then

    

    TextWindow.WriteLine(" ")

    TextWindow.WriteLine("You are now playing as " + name + " the " + race[raceno]["name"] )

    playerhealth = race[raceno]["health"]

    playerdamage = race[raceno]["damage"]

    TextWindow.Pause()

    

  Else

    

    TextWindow.Clear()

    TextWindow.WriteLine("I think your a little bit indecisive. Please pick another race. ")

    TextWindow.Pause()

    Goto raceselection

    

  EndIf 

  

Else

  

  TextWindow.Clear()

  TextWindow.WriteLine("Please pick an available race. ")

  TextWindow.Pause()

  Goto raceselection

  

EndIf



name_perks()

TextWindow.Clear()

TextWindow.WriteLine("Enter 'help' for a list of all controls used in the game.")

TextWindow.WriteLine("This an be used at any time.")



If allow_cheats = "true" then

  TextWindow.WriteLine(" ")

  TextWindow.WriteLine("Enter '/help' for a list of all cheats available for use in the game.")

Endif



TextWindow.WriteLine(" ")

TextWindow.Pause()



While command <> "quit" 

  While playerhealth > 0

    

    TextWindow.Clear()

    TextWindow.WriteLine("You are standing in " + room[position]["desc"])

    TextWindow.WriteLine(" ")

    TextWindow.WriteLine("-----------------------------------")

    TextWindow.WriteLine(" ")

    

    TextWindow.WriteLine("Your exits are: ")

    

    show_exits()

    

    

    

    TextWindow.WriteLine("In this room you can see: ")

    show_objects()

    

    TextWindow.WriteLine(" ")

    TextWindow.WriteLine("-----------------------------------")

    TextWindow.WriteLine(" ")

    

    TextWindow.WriteLine("Race   = " + race[raceno]["name"] )

    TextWindow.WriteLine("Health = " + playerhealth )

    

    

    TextWindow.WriteLine(" ")

    TextWindow.WriteLine("-----------------------------------")

    TextWindow.WriteLine(" ")

    

    TextWindow.WriteLine("What would you like to do?")

    TextWindow.Write("> ") 

    TextWindow.ForegroundColor = "Red"

    get_command()

    TextWindow.ForegroundColor = "white"

    

  EndWhile

EndWhile



'****************

'* Display Exits  *

'****************





Sub show_exits

  

  If Text.GetSubText(room[position]["door"]1,1) = 1 Then

    TextWindow.WriteLine("> West ")

  EndIf

  

  If Text.GetSubText(room[position]["door"]2,1) = 1 Then

    TextWindow.WriteLine("> South ")

  EndIf

  

  If Text.GetSubText(room[position]["door"]3,1) = 1 Then

    TextWindow.WriteLine("> East ")

  EndIf

  

  If Text.GetSubText(room[position]["door"]4,1) = 1 Then

    TextWindow.WriteLine("> North ")

  EndIf

  

  TextWindow.WriteLine(" ")

  TextWindow.WriteLine("-----------------------------------")

  TextWindow.WriteLine(" ")

  

endsub



'*****************

'* Display Objects*

'*****************



Sub show_objects

  

  For loop = 1 To 2

    

    If object[loop]["location"] = position Then

      

      TextWindow.ForegroundColor = "white"

      TextWindow.WriteLine("> " + object[loop]["name"])

      

    EndIf

    

  EndFor

  

  If object[3]["location"] = position Then

    If map = "true" Then

      

      TextWindow.ForegroundColor = "white"

      TextWindow.WriteLine("> " + object[3]["name"])

      

    EndIf

  EndIf

  

  If object[4]["location"] = position Then

    

    TextWindow.ForegroundColor = "white"

    TextWindow.WriteLine("> " + object[4]["name"])

    

  EndIf

  

  If object[5]["location"] = position then

    

    TextWindow.ForegroundColor = "white"

    TextWindow.WriteLine("> " + object[5]["name"])

  endif

  

EndSub



'**************

' * Commands *

'**************



sub get_command

  

  command = TextWindow.Read()

  check_command()

  

EndSub



sub check_command

  

  If command = "n" then

    if Text.GetSubText(room[position]["door"]4,1) = 1 Then

      mob_spawn()

      position = position - 3

      If map = "true" Then

        Turtle.Show()

        Turtle.Angle = 0

        Turtle.Move(100)

      EndIf

    EndIf

  EndIf

  

  If command = "s" Then

    if Text.GetSubText(room[position]["door"]2,1) = 1 Then

      mob_spawn()

      position = position + 3

      If map = "true" Then

        Turtle.Angle = 180

        Turtle.Move(100)

      EndIf

    EndIf

  EndIf

  

  If command = "e" Then

    if Text.GetSubText(room[position]["door"]3,1) = 1 Then

      mob_spawn()

      position = position + 1

      If map = "true" Then

        Turtle.Angle = 90

        Turtle.Move(100)

      EndIf

    EndIf

  EndIf

  

  If command = "w" Then

    if Text.GetSubText(room[position]["door"]1,1) = 1 Then

      mob_spawn()

      position = position - 1

      If map = "true" Then

        Turtle.Angle = 270

        Turtle.Move(100)

      EndIf

    EndIf

  EndIf

  

  If command = "help" then

    

    TextWindow.Clear()

    TextWindow.ForegroundColor = "white"

    

    TextWindow.WriteLine("The controls for this game are: ")

    TextWindow.WriteLine(" ")

    TextWindow.WriteLine("> n = move north.")

    TextWindow.WriteLine("> e = move east.")

    TextWindow.WriteLine("> s = move south.")

    TextWindow.WriteLine("> w = move west.")

    TextWindow.WriteLine("-----------------------------------------------------------------------------------")

    TextWindow.WriteLine("> get book   = pick up the book ")

    TextWindow.WriteLine("> get map    = pick up the map ")

    TextWindow.WriteLine("> get key    = gets the wonderful golden key ")

    TextWindow.WriteLine("> get apple  = gets the delicious apple. ")

    TextWindow.WriteLine("> get sword  = gets the sword. ")

    TextWindow.WriteLine(" ")

    TextWindow.WriteLine("> show map   = reads the map ")

    TextWindow.WriteLine("> write book = write a book ")

    TextWindow.WriteLine("> show book  = shows the book you wrote.")

    TextWindow.WriteLine("> eat apple  = eats the apple (another apple will respawn). ")

    TextWindow.WriteLine(" ")

    TextWindow.WriteLine("> drop book  = drops the book ")

    TextWindow.WriteLine("> drop map   = drops the map (this would be silly) ")

    TextWindow.WriteLine("> drop key   = drops the wonderful golden key (this would be even more silly) ")

    TextWindow.WriteLine("> drop apple = drops the apple. ")

    TextWindow.WriteLine("> drop sword = drops the sword. ")

    TextWindow.WriteLine("-----------------------------------------------------------------------------------")

    TextWindow.WriteLine("  When fighting a mob, use the following commands: ")

    TextWindow.WriteLine(" ")

    TextWindow.WriteLine("> hit        = hits the mob. Reduces the mobs health by 5. ")

    TextWindow.WriteLine("                - If using a sword, the damage is increased.")

    TextWindow.WriteLine("-----------------------------------------------------------------------------------")

    

    TextWindow.Pause()

    

  EndIf  

  

  If command = "get book" Then 

    

    If object[1]["location"] = position Then

      

      TextWindow.ForegroundColor = "white"

      TextWindow.Clear()

      TextWindow.WriteLine("You have got the book.")

      TextWindow.WriteLine("     " + object[1]["info"])

      

      object[1]["location"] = -1

      

      TextWindow.WriteLine("")

      TextWindow.Pause()

      

    Else

      

      TextWindow.ForegroundColor = "white"

      TextWindow.WriteLine("I cannot see any book here.")

      TextWindow.WriteLine("")

      TextWindow.Pause()

      

    EndIf

  endif  

  

  If command = "drop book" Then

    

    If object[1]["location"] = -1 Then

      

      TextWindow.ForegroundColor = "white"

      TextWindow.WriteLine("You have dropped the book.")

      TextWindow.WriteLine(" ")

      TextWindow.Pause()

      

      object[1]["location"] = position

      

    Else

      

      TextWindow.ForegroundColor = "white"

      TextWindow.WriteLine("You do not currently have a book.")

      TextWindow.WriteLine("")

      TextWindow.Pause()

      

    EndIf

    

  endif

  

  If command = "get map" Then 

    

    If object[2]["location"] = position Then

      

      TextWindow.Clear()

      TextWindow.ForegroundColor = "white"

      TextWindow.WriteLine("You have got the map.")

      TextWindow.WriteLine("     " + object[2]["info"])

      

      object[2]["location"] = -1

      

      TextWindow.WriteLine("")

      TextWindow.Pause()

      

    Else

      

      TextWindow.ForegroundColor = "white"

      TextWindow.WriteLine("I cannot see any map here.")

      TextWindow.WriteLine("")

      TextWindow.Pause()

      

    EndIf

  endif  

  

  If command = "drop map" Then

    

    If object[2]["location"] = -1 Then

      

      TextWindow.ForegroundColor = "white"

      TextWindow.WriteLine("You have dropped the map.")

      TextWindow.WriteLine(" ")

      TextWindow.Pause()

      

      object[2]["location"] = position

      map = "false"

      GraphicsWindow.Hide()

      

    Else

      

      TextWindow.ForegroundColor = "white"

      TextWindow.WriteLine("You do not currently have a map.")

      TextWindow.WriteLine("")

      TextWindow.Pause()

      

    EndIf

    

  endif

  

  If command = "show map" Then

    

    If object[2]["location"] = -1 Then

      

      show_map()

      

    Else

      TextWindow.ForegroundColor = "white"

      

      TextWindow.WriteLine("You do not have a map.")

      

    EndIf 

    

  EndIf

  

  If command = "get apple" Then

    

    If object[4]["location"] = position Then

      

      TextWindow.Clear()

      TextWindow.ForegroundColor = "white"

      TextWindow.WriteLine("You have got the apple.")

      TextWindow.WriteLine("     " + object[4]["info"])

      

      object[4]["location"] = -1

      

      TextWindow.WriteLine("")

      TextWindow.Pause()

      

    Else

      

      TextWindow.ForegroundColor = "white"

      TextWindow.WriteLine("I cannot see any apple here.")

      TextWindow.WriteLine("")

      TextWindow.Pause()

      

    EndIf

  endif 

  

  If command = "drop apple" Then

    

    If object[4]["location"] = -1 Then

      

      TextWindow.ForegroundColor = "white"

      TextWindow.WriteLine("You have dropped the apple.")

      TextWindow.WriteLine(" ")

      TextWindow.Pause()

      

      object[4]["location"] = position

      

    Else

      

      TextWindow.ForegroundColor = "white"

      TextWindow.WriteLine("You do not currently have an apple. ")

      TextWindow.WriteLine("")

      TextWindow.Pause()

      

    EndIf

    

  endif 

  

  If command = "eat apple" Then

    If object[4]["location"] = -1 Then

      

      applepoison = Math.GetRandomNumber(5)

      

      If applepoison > 1 Then

        

        TextWindow.Clear()

        TextWindow.ForegroundColor = "white"

        TextWindow.WriteLine("You have eaten the apple.")

        TextWindow.WriteLine("    It was delicious.")

        playerhealth = playerhealth + 5

        TextWindow.Pause()

        

        applerespawn = Math.GetRandomNumber(9)

        

        object[4]["location"] = applerespawn

        

        

        

      EndIf

    EndIf

  EndIf

  

  If command = "write book" Then

    

    If object[1]["location"] = -1 Then

      

      write_book()

      

    EndIf

    

  EndIf

  

  If command = "show book" And written_book = "true" Then

    

    TextWindow.Clear()

    TextWindow.ForegroundColor = "white"

    TextWindow.WriteLine("This is your book: ")

    TextWindow.Write("> " + book_content)

    TextWindow.WriteLine(" ")

    TextWindow.WriteLine("To write another book use the command 'write book'")

    TextWindow.Pause()

    

  EndIf

  

  If command = "get key" Then

    

    If object[3]["location"] = position Then

      

      TextWindow.Clear()

      TextWindow.ForegroundColor = "white"

      TextWindow.WriteLine("You have got the key")

      TextWindow.WriteLine("     " + object[3]["info"])

      

      object[3]["location"] = -1

      

      TextWindow.WriteLine("")

      

      If map = "true" Then

        TextWindow.WriteLine("You can now use the 'escape' command in room 8.")

        TextWindow.WriteLine("        So close to completion.")

      EndIf

      

      TextWindow.Pause()

      

    Else

      

      TextWindow.ForegroundColor = "white"

      TextWindow.WriteLine("I cannot see any key here")

      TextWindow.WriteLine("")

      TextWindow.Pause()

      

    EndIf

  endif  

  

  If command = "drop key" Then

    

    If object[3]["location"] = -1 Then

      

      TextWindow.ForegroundColor = "white"

      TextWindow.WriteLine("You have dropped the key.")

      TextWindow.WriteLine(" ")

      TextWindow.Pause()

      

      object[3]["location"] = position

      

    Else

      

      TextWindow.ForegroundColor = "white"

      TextWindow.WriteLine("You do not currently have a key.")

      TextWindow.WriteLine("")

      TextWindow.Pause()

      

    EndIf

    

  EndIf

  

  If command = "get sword" Then

    

    If object[5]["location"] = position Then

      

      TextWindow.Clear()

      TextWindow.ForegroundColor = "white"

      TextWindow.WriteLine("You have got the sword.")

      TextWindow.WriteLine("     " + object[5]["info"])

      

      object[5]["location"] = -1

      

      TextWindow.WriteLine(" ")

      TextWindow.Pause()

      

    Else

      

      TextWindow.ForegroundColor = "white"

      TextWindow.WriteLine("I cannot see any sword here.")

      TextWindow.WriteLine("")

      TextWindow.Pause()

      

    EndIf

  endif  

  

  If command = "drop sword" Then

    

    If object[5]["location"] = -1 Then

      

      TextWindow.ForegroundColor = "white"

      TextWindow.WriteLine("You have dropped the sword. ")

      TextWindow.WriteLine(" ")

      TextWindow.Pause()

      

      object[5]["location"] = position

      

    Else

      

      TextWindow.ForegroundColor = "white"

      TextWindow.WriteLine("You do not currently have a sword.")

      TextWindow.WriteLine("")

      TextWindow.Pause()

      

    EndIf

    

  EndIf

  

  If command = "escape" Then

    If position = 8 Then

      If object[3]["location"] = -1 Then

        

        TextWindow.Clear()

        TextWindow.ForegroundColor = "white"

        TextWindow.WriteLine("Congratulations. You have successfully escaped and thus completed... ")

        TextWindow.WriteLine(" ____  _  _  ___     __   ___  _  _  ___  _  _  ____  _  _  ___   ___ ")

        TextWindow.WriteLine("(_  _)( )( )(  _)   (  ) (   \( )( )(  _)( \( )(_  _)( )( )(  ,) (  _)")

        TextWindow.WriteLine("  )(   )__(  ) _)   /__\  ) ) )\\//  ) _) )  (   )(   )()(  )  \  ) _)")

        TextWindow.WriteLine(" (__) (_)(_)(___)  (_)(_)(___/ (__) (___)(_)\_) (__)  \__/ (_)\_)(___)")

        TextWindow.WriteLine(" ")

        

        GraphicsWindow.Clear()

        GraphicsWindow.Show()

        GraphicsWindow.Width = 320

        GraphicsWindow.Height = 320

        GraphicsWindow.Top = 50

        GraphicsWindow.Left = 750

        

        GraphicsWindow.Clear()

        GraphicsWindow.BackgroundColor = "Black"

        Turtle.X = 160

        Turtle.Y = 160

        Turtle.Speed = 10

        Turtle.PenDown()

        

        For i = 0  To 350 Step 5 

          GraphicsWindow.PenColor = GraphicsWindow.GetRandomColor() 

          Turtle.Move(i)  

          Turtle.Turn(90)

        EndFor

        

        GraphicsWindow.ShowMessage("You have completed the game!!!", "Congratulations!")

        

        command = "quit"

        

      EndIf

    EndIf

  EndIf

  

  

  if command = "i" or command = "inv" Or command = "inventory" Then

    

    TextWindow.Clear()

    TextWindow.ForegroundColor = "white"

    

    TextWindow.WriteLine("")

    

    textwindow.writeline("You are carrying the following:")

    

    TextWindow.WriteLine(" ")

    

    For loop = 1 To 5

      If object[loop]["location"] = -1 Then

        

        TextWindow.ForegroundColor = "white"

        TextWindow.WriteLine("> " + object[loop]["name"])

        

      EndIf

      

    EndFor

    

    TextWindow.writeline("")

    TextWindow.Pause()

    

  endif

  

  If command = "quit" Then

    

    TextWindow.ForegroundColor = "white"

    TextWindow.WriteLine("Goodbye. Thanks for playing. :D")

    Program.Delay(1000)

    Program.End()

    

  EndIf

  

  '**********************'

  '* Combat Commands *'

  '**********************'

  If visable_mob = "true" Then

    

    While mob[mobspawn]["health"] > 0

      

      If command = "/killmob" Then

        If allow_cheats = "true" then

          mob[mobspawn]["health"] = -1

        EndIf

      EndIf

      

      If command = "hit" Then

        

        hit_miss = Math.GetRandomNumber(7)

        

        If hit_miss = 1 Then

          TextWindow.WriteLine(" ")

          TextWindow.WriteLine("You missed your target. ")

          TextWindow.Pause()

        EndIf

        

        If hit_miss <> 1 Then

          

          If object[5]["location"] = -1 Then

            playerdamage = playerdamage + sword_damage

          EndIf   

          

          mob[mobspawn]["health"] = mob[mobspawn]["health"] - playerdamage

          

        EndIf

      EndIf

    EndWhile

    

    TextWindow.ForegroundColor = "white"

    TextWindow.WriteLine(" ")

    TextWindow.WriteLine(mob[mobspawn]["name"] + " is dead. You may continue on your adventure. ")

    TextWindow.Pause()

    

  EndIf

  

  '***************'

  '*  Cheats *'

  '***************'

  

  If cheatcommand = "yes" Or command = "y" Then

    allow_cheats = "true"

  EndIf

  

  If command = "/kill" Then

    If allow_cheats = "true" Then

      

      textwindow.Clear()

      TextWindow.ForegroundColor = "white"

      TextWindow.WriteLine(name + " commited suicide.")

      Program.Delay(1000)

      Program.End()

      

    Else

      

      TextWindow.Clear()

      TextWindow.ForegroundColor = "white"

      TextWindow.WriteLine("You do not have permission to use this command.")

      TextWindow.Pause()

      

    EndIf    

  EndIf

  

  If command = "/give objects" Then

    If allow_cheats = "true" Then

      

      For loop = 1 To 5

        

        object[loop]["location"] = -1

        

      EndFor

      

      TextWindow.Clear()

      TextWindow.ForegroundColor = "white"

      TextWindow.WriteLine("Given " + name + " all objects.")

      TextWindow.Pause()

      

    Else

      

      TextWindow.Clear()

      TextWindow.ForegroundColor = "white"

      TextWindow.WriteLine("You do not have permission to use this command.")

      TextWindow.Pause()

      

    EndIf

  EndIf

  

  If command = "/tp 1" Then

    If allow_cheats = "true" Then

      

      TextWindow.Clear()

      TextWindow.ForegroundColor = "white"

      TextWindow.WriteLine("Teleported " + name + " to room 1.")

      TextWindow.Pause()

      

      position = 1

      Turtle.X = 60

      Turtle.Y = 60

      

    Else

      

      TextWindow.Clear()

      TextWindow.ForegroundColor = "white"

      TextWindow.WriteLine("You do not have permission to use this command.")

      TextWindow.Pause()

      

    EndIf

  EndIf

  

  If command = "/tp 2" Then

    If allow_cheats = "true" Then

      

      TextWindow.Clear()

      TextWindow.ForegroundColor = "white"

      TextWindow.WriteLine("Teleported " + name + " to room 2.")

      TextWindow.Pause()

      

      position = 2

      Turtle.X = 160

      Turtle.Y = 60

      

    Else

      

      TextWindow.Clear()

      TextWindow.ForegroundColor = "white"

      TextWindow.WriteLine("You do not have permission to use this command.")

      TextWindow.Pause()

      

    EndIf

  EndIf

  

  If command = "/tp 3" Then

    If allow_cheats = "true" Then

      

      TextWindow.Clear()

      TextWindow.ForegroundColor = "white"

      TextWindow.WriteLine("Teleported " + name + " to room 3.")

      TextWindow.Pause()

      

      position = 3

      Turtle.X = 260

      Turtle.Y = 60

      

    Else

      

      TextWindow.Clear()

      TextWindow.ForegroundColor = "white"

      TextWindow.WriteLine("You do not have permission to use this command.")

      TextWindow.Pause()

      

    EndIf

  EndIf

  

  If command = "/tp 4" Then

    If allow_cheats = "true" Then

      

      TextWindow.Clear()

      TextWindow.ForegroundColor = "white"

      TextWindow.WriteLine("Teleported " + name + " to room 4.")

      TextWindow.Pause()

      

      position = 4

      Turtle.X = 60

      Turtle.Y = 160

      

    Else

      

      TextWindow.Clear()

      TextWindow.ForegroundColor = "white"

      TextWindow.WriteLine("You do not have permission to use this command.")

      TextWindow.Pause()

      

    EndIf

  EndIf

  

  If command = "/tp 5" Then

    If allow_cheats = "true" Then

      

      TextWindow.Clear()

      TextWindow.ForegroundColor = "white"

      TextWindow.WriteLine("Teleported " + name + " to room 5.")

      TextWindow.Pause()

      

      position = 5

      Turtle.X = 160

      Turtle.Y = 160

      

    Else

      

      TextWindow.Clear()

      TextWindow.ForegroundColor = "white"

      TextWindow.WriteLine("You do not have permission to use this command.")

      TextWindow.Pause()

      

    EndIf

  EndIf

  

  If command = "/tp 6" Then

    If allow_cheats = "true" Then

      

      TextWindow.Clear()

      TextWindow.ForegroundColor = "white"

      TextWindow.WriteLine("Teleported " + name + " to room 6.")

      TextWindow.Pause()

      

      position = 6

      Turtle.X = 260

      Turtle.Y = 160

      

    Else

      

      TextWindow.Clear()

      TextWindow.ForegroundColor = "white"

      TextWindow.WriteLine("You do not have permission to use this command.")

      TextWindow.Pause()

      

    EndIf

  EndIf

  

  If command = "/tp 7" Then

    If allow_cheats = "true" Then

      

      TextWindow.Clear()

      TextWindow.ForegroundColor = "white"

      TextWindow.WriteLine("Teleported " + name + " to room 7.")

      TextWindow.Pause()

      

      position = 7

      Turtle.X = 60

      Turtle.Y = 260

      

    Else

      

      TextWindow.Clear()

      TextWindow.ForegroundColor = "white"

      TextWindow.WriteLine("You do not have permission to use this command.")

      TextWindow.Pause()

      

    EndIf

  EndIf

  

  If command = "/tp 8" Then

    If allow_cheats = "true" Then

      

      TextWindow.Clear()

      TextWindow.ForegroundColor = "white"

      TextWindow.WriteLine("Teleported " + name + " to room 8.")

      TextWindow.Pause()

      

      position = 8

      Turtle.X = 160

      Turtle.Y = 260

      

    Else

      

      TextWindow.Clear()

      TextWindow.ForegroundColor = "white"

      TextWindow.WriteLine("You do not have permission to use this command.")

      TextWindow.Pause()

      

    EndIf

  EndIf

  

  If command = "/tp 9" Then

    If allow_cheats = "true" Then

      

      TextWindow.Clear()

      TextWindow.ForegroundColor = "white"

      TextWindow.WriteLine("Teleported " + name + " to room 9.")

      TextWindow.Pause()

      

      position = 9

      Turtle.X = 260

      Turtle.Y = 260

      

    Else

      

      TextWindow.Clear()

      TextWindow.ForegroundColor = "white"

      TextWindow.WriteLine("You do not have permission to use this command.")

      TextWindow.Pause()

      

    EndIf

  EndIf

  

  If command = "/give sword" Then

    If allow_cheats = "true" Then

      

      object[5]["location"] = -1

      

      TextWindow.Clear()

      TextWindow.ForegroundColor = "white"

      TextWindow.WriteLine("Given " + name + " a sword.")

      TextWindow.Pause()

      

    Else

      

      TextWindow.Clear()

      TextWindow.ForegroundColor = "white"

      TextWindow.WriteLine("You do not have permission to use this command.")

      TextWindow.Pause()

      

    EndIf

  EndIf

  

  If command = "/give book" Then

    If allow_cheats = "true" Then

      

      object[1]["location"] = -1

      

      TextWindow.Clear()

      TextWindow.ForegroundColor = "white"

      TextWindow.WriteLine("Given " + name + " a book.")

      TextWindow.Pause()

      

    Else

      

      TextWindow.Clear()

      TextWindow.ForegroundColor = "white"

      TextWindow.WriteLine("You do not have permission to use this command.")

      TextWindow.Pause()

      

    EndIf

  EndIf

  

  

  If command = "/give map" Then

    If allow_cheats = "true" Then

      

      object[2]["location"] = -1

      

      TextWindow.Clear()

      TextWindow.ForegroundColor = "white"

      TextWindow.WriteLine("Given " + name + " a map.")

      TextWindow.Pause()

      

    Else

      

      TextWindow.Clear()

      TextWindow.ForegroundColor = "white"

      TextWindow.WriteLine("You do not have permission to use this command.")

      TextWindow.Pause()

      

    EndIf

  EndIf

  

  If command = "/give key" Then

    If allow_cheats = "true" Then

      

      object[3]["location"] = -1

      

      TextWindow.Clear()

      TextWindow.ForegroundColor = "white"

      TextWindow.WriteLine("Given " + name + " a key.")

      TextWindow.Pause()

      

    Else

      

      TextWindow.Clear()

      TextWindow.ForegroundColor = "white"

      TextWindow.WriteLine("You do not have permission to use this command.")

      TextWindow.Pause()

      

    EndIf

  EndIf

  

  If command = "/give appple" Then

    If allow_cheats = "true" Then

      

      object[4]["location"] = -1

      

      TextWindow.Clear()

      TextWindow.ForegroundColor = "white"

      TextWindow.WriteLine("Given " + name + " an apple. ")

      TextWindow.Pause()

      

    Else

      

      TextWindow.Clear()

      TextWindow.ForegroundColor = "white"

      TextWindow.WriteLine("You do not have permission to use this command.")

      TextWindow.Pause()

      

    EndIf

  EndIf

  

  

  If command = "/modstat" Then

    If allow_cheats = "true" Then

      

      TextWindow.Clear()

      TextWindow.ForegroundColor = "white"

      TextWindow.WriteLine("Enter new player health: (max 100)")

      TextWindow.Write("> ")

      TextWindow.ForegroundColor = "red"

      playerhealth = TextWindow.ReadNumber() 

      TextWindow.ForegroundColor = "white"     

      

      TextWindow.Clear()

      TextWindow.WriteLine("Enter new player damage: (max 50)")

      TextWindow.Write("> ")

      TextWindow.ForegroundColor = "red"

      playerdamage = TextWindow.ReadNumber()

      TextWindow.ForegroundColor = "white"

      

    ElseIf allow_cheats = "false" then

      

      TextWindow.Clear()

      TextWindow.ForegroundColor = "white"

      TextWindow.WriteLine("You do not have permission to use this command.")

      TextWindow.Pause()

      

    EndIf

  EndIf

  

  If command = "/explode" Then

    If allow_cheats = "true" Then

      

      TextWindow.Clear()

      TextWindow.ForegroundColor = "white"

      TextWindow.WriteLine(name + " has violently exploded and has broken the game. " + name + " is now dead and the ")

      TextWindow.WriteLine("surroundings destroyed.")

      TextWindow.WriteLine(name + " was very silly.")

      Program.Delay(10000)

      Program.End()

      

    Else

      

      TextWindow.Clear()

      TextWindow.ForegroundColor = "white"

      TextWindow.WriteLine("You do not have permission to use this command.")

      TextWindow.Pause()

      

    EndIf

  EndIf

  

  

  If command = "/help" Then

    If allow_cheats = "true" Then

      

      TextWindow.Clear()

      TextWindow.ForegroundColor = "white"

      

      TextWindow.WriteLine("As cheats are enabled then you may use the following commands; ")

      TextWindow.WriteLine(" ")

      TextWindow.WriteLine("> /give objects = gives you all in-game objects.")

      TextWindow.WriteLine("        > /give map   = gives you the map.")

      TextWindow.WriteLine("        > /give book  = gives you the book.")

      TextWindow.WriteLine("        > /give key   = gives you the key.")

      TextWindow.WriteLine("        > /give apple = gives you an apple. ")

      TextWindow.WriteLine(" ")

      TextWindow.WriteLine("> /tp n = Teleports you to the room number (n = room number.) ")

      TextWindow.WriteLine(" ")

      TextWindow.WriteLine("> /modstat = Allows the tweaking of player stats.")

      TextWindow.WriteLine(" ")

      TextWindow.WriteLine("> /kill    = Instantly kills the player, ending the game. ")

      TextWindow.WriteLine("> /explode = The same as /kill, but with a twist... ") 

      TextWindow.WriteLine(" ")

      TextWindow.Pause()

      

    Else

      

      TextWindow.Clear()

      TextWindow.ForegroundColor = "white"

      TextWindow.WriteLine("You can only view this if cheats are enabled at the start of the game. ")

      TextWindow.Pause()

      

    EndIf

  EndIf

  

EndSub



'**************'

'* Turtle Map *'

'**************'



Sub show_map

  

  map = "true"

  GraphicsWindow.Show()

  

  GraphicsWindow.BackgroundColor = "White"

  GraphicsWindow.PenColor = "Black"

  GraphicsWindow.Width = 320

  GraphicsWindow.Height = 320

  GraphicsWindow.Top = 50

  GraphicsWindow.Left = 750

  GraphicsWindow.Title = "Your Map"

  

  Turtle.X = 10

  Turtle.Y = 10

  Turtle.Speed = 10

  Turtle.Show()

  Turtle.Turn(180)

  Turtle.PenDown()

  Turtle.Move(300)

  Turtle.TurnLeft()

  Turtle.Move(300)

  Turtle.TurnLeft()

  Turtle.Move(300)

  Turtle.TurnLeft()

  Turtle.Move(300)

  Turtle.Turn(180)

  Turtle.Move(100)

  Turtle.TurnRight()

  Turtle.Move(300)

  Turtle.TurnLeft()

  Turtle.Move(100)

  Turtle.TurnLeft()

  Turtle.Move(300)

  Turtle.TurnRight()

  Turtle.Move(100)

  Turtle.TurnRight()

  Turtle.Move(100)

  Turtle.TurnRight()

  Turtle.Move(300)

  Turtle.TurnLeft()

  Turtle.Move(100)

  Turtle.TurnLeft()

  Turtle.Move(300)

  Turtle.PenUp()

  Turtle.MoveTo(160,310)

  GraphicsWindow.PenColor = "Red"

  Turtle.PenDown()

  Turtle.Move(15)

  Turtle.Turn(180)

  Turtle.Move(30)

  Turtle.Turn(180)

  Turtle.Move(15)

  Turtle.TurnLeft()

  Turtle.Move(15)

  Turtle.Turn(180)

  Turtle.Move(30)

  Turtle.PenUp()

  

  If position = 1 Then

    

    Turtle.MoveTo(60,60)

    

  EndIf

  

  If position = 2 Then

    

    Turtle.MoveTo(160,60)

    

  EndIf

  

  If position = 3 Then

    

    Turtle.MoveTo(260,60)

    

  EndIf

  

  If position = 4 Then

    

    Turtle.MoveTo(60,160)

    

  EndIf

  

  If position = 5 Then

    

    Turtle.MoveTo(160,160)

    

  EndIf

  

  If position = 6 Then

    

    Turtle.MoveTo(260,160)

    

  EndIf

  

  If position = 7 Then

    

    Turtle.MoveTo(60,260)

    

  EndIf

  

  If position = 8 Then

    

    Turtle.MoveTo(160,260)

    

  EndIf

  

  If position = 9 Then

    

    Turtle.MoveTo(260,260)

    

  EndIf

  

  Turtle.Angle = 0

  Turtle.Speed = 7

  

Endsub



'*************'

'* Write book *'

'*************'



Sub write_book

  

  TextWindow.Clear()

  TextWindow.ForegroundColor = "white"

  

  TextWindow.WriteLine("Start typing and write me a book.")

  TextWindow.Write("> ")

  TextWindow.ForegroundColor = "Grey"

  book_content = TextWindow.Read()

  TextWindow.ForegroundColor = "white"

  

  written_book = "true"

  

EndSub



'******************'

'* Mobs & Combat *'

'******************'



sub mob_spawn

  

  mobspawn = Math.GetRandomNumber(4)

  

  If mob_command = "yes" or mob_command = "y" Then

    allow_mobs = "true"

  EndIf

  

  If allow_mobs = "true" Then

    If mobspawn < 5 Then  

      

      While mob[mobspawn]["health"] > 0

        visable_mob = "true"

        

        TextWindow.Clear()

        TextWindow.ForegroundColor = "White"

        TextWindow.CursorLeft = 45

        TextWindow.CursorTop = 1

        TextWindow.WriteLine(" ____________________ ")

        TextWindow.CursorLeft = 45

        TextWindow.CursorTop = 2

        TextWindow.WriteLine("\                    \ ")

        TextWindow.CursorLeft = 45

        TextWindow.CursorTop = 3

        TextWindow.WriteLine("/ Player Health = " + playerhealth + " / ")

        TextWindow.CursorLeft = 45

        TextWindow.CursorTop = 4

        TextWindow.WriteLine("\                    \ ")

        TextWindow.CursorLeft = 45

        TextWindow.CursorTop = 5

        TextWindow.WriteLine("/ Mob Health = " + mob[mobspawn]["health"] + "    / ")

        TextWindow.CursorLeft = 45

        TextWindow.CursorTop = 6      

        TextWindow.WriteLine("\____________________\ ")

        

        

        

        

        TextWindow.CursorLeft = 1

        TextWindow.CursorTop = 1

        TextWindow.WriteLine("A " + mob[mobspawn]["name"] + " is blocking your path.")

        TextWindow.WriteLine("What would you like to do? ")

        TextWindow.Write("> ")

        TextWindow.ForegroundColor = "red"

        get_command()

        TextWindow.ForegroundColor = "white"

        

        mobfight = Math.GetRandomNumber(15)

        

        If mobfight = 1 or 6 Or 11 then

          

          TextWindow.WriteLine(" ")

          TextWindow.WriteLine("The " + mob[mobspawn]["name"] + " tried to hit back but missed. ")

          TextWindow.Pause()

          

        EndIf

        

        If mobfight <> 1 Or 5 or 6 or 11 then

          If mob[mobspawn]["health"] > 0 then

            

            TextWindow.WriteLine(" ")

            TextWindow.WriteLine("The mob fights back. You take " + mob[mobspawn]["damage"] + " damage. ")

            playerhealth = playerhealth - mob[mobspawn]["damage"]

            TextWindow.Pause()

            

          EndIf

        EndIf

        

        If mobfight = 5 then

          

          special = Math.GetRandomNumber(10)

          

          If mobspawn = 4 Then

            If special = 1 Then

              

              TextWindow.WriteLine(" ")

              TextWindow.WriteLine("Bruce turned green. One hit, your dead. ")

              playerhealth = 0

              TextWindow.Pause()

              command = "quit"

              

            EndIf

            

          EndIf

          

          If mobspawn = 3 Then

            If special = 2 Then

              

              TextWindow.WriteLine(" ")

              TextWindow.WriteLine("The giraffe has head-butted you. You struggle to get up. ")

              playerhealth = playerhealth - mob[3]["damage"]

              TextWindow.Pause()

              

            EndIf

          EndIf

          

        EndIf

        

        TextWindow.ForegroundColor = "white"

        TextWindow.WriteLine("The " + mob[mobspawn]["name"] + " is dead.")

        visable_mob = "false"

        

      EndWhile

      

    EndIf

  EndIf

  

endsub



'*****************'

'* Name Perks :) *'

'*****************'



Sub name_perks

  

  If name = "IAMTHEONEANDONLYGOD" Then

    

    playerhealth = 1000

    playerdamage = 500

    

    For loop = 1 To 5

      object[loop]["location"] = -1

    EndFor

    

  EndIf

  

  If name = "evan" Or name = "Evan" Or name = "EVAN" Then

    

    TextWindow.Clear()

    TextWindow.WriteLine("Due to Evan being skinny, you have low health and little damage. ")

    TextWindow.WriteLine(" ")

    

    playerhealth = 25

    playerdamage = 2

    

  EndIf

  

  If name = "name" Then

    

    TextWindow.Clear()

    TextWindow.WriteLine("I was hoping you would pick a sensible name. How wrong I was... ")

    TextWindow.Pause()

    

  EndIf

EndSub


